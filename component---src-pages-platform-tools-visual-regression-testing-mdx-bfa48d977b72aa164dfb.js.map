{"version":3,"sources":["webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/pages/platform/tools/visual-regression-testing.mdx"],"names":["ComponentList","query","render","data","SidebarItems","items","components","edges","map","comp","href","node","path","name","context","SidebarItem","item","key","to","isSublist","length","className","Sidebar","location","sidebarSection","sidebarData","sections","find","section","pathname","includes","SidebarLayout","children","Layout","id","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-platform-tools-visual-regression-testing-mdx-bfa48d977b72aa164dfb.js","sourcesContent":["import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction ComponentList() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentListQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n            sort: { fields: [context___name], order: ASC }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => (\n        <SidebarItems\n          items={data.components.edges.map(comp => ({\n            href: comp.node.path,\n            name: comp.node.context.name,\n          }))}\n        />\n      )}\n    />\n  );\n}\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        if (item.query === 'componentList') {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <ComponentList />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Layout from './Layout';\nimport Sidebar from '../components/sidebar/Sidebar';\n\n/**\n * Layout\n *\n * @class Layout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/jenkins/workspace/ran-facing-services-tools_master/packages/documentation/src/layouts/SidebarLayout.jsx\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"visual-regression-testing\"\n    }}>{`Visual Regression Testing`}</h1>\n    <p>{`This is the first iteration of visual regression testing. It is useful to detect side effects or scope of visual changes.`}</p>\n    <p>{`It works by gathering the links for the site using the sitemap, then opening an chromium instance using Puppeteer to navigate throughout the site, capturing an image of each page. The developer must first create the baseline image set for comparisons (sometimes called the golden set), then after making their changes, run an additional task to make the comparison.`}</p>\n    <h1 {...{\n      \"id\": \"how-to-use\"\n    }}>{`How to use`}</h1>\n    <ol>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Start the local website instance`}</strong></li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Generate your baseline/golden image set for desktop with the following command`}</strong><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`npm run test:visual:baseline`}</inlineCode></li>\n          <li parentName=\"ul\">{`Note - These images should be generated before your changes, so you may want to switch to the master branch before running this command. This will create the directory `}<inlineCode parentName=\"li\">{`site-root/logs/visual-regression/baseline/desktop`}</inlineCode>{` with all of the website images.`}</li>\n        </ul></li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Generate your baseline/golden image set for mobile with the following command`}</strong><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`npm run test:visual:baseline -- --mobile`}</inlineCode></li>\n          <li parentName=\"ul\">{`Note - These images should be generated before your changes, so you may want to switch to the master branch before running this command. This will create the directory `}<inlineCode parentName=\"li\">{`site-root/logs/visual-regression/baseline/mobile`}</inlineCode>{` with all of the website images.`}</li>\n        </ul></li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Make your changes`}</strong></li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Run the visual regression test for desktop`}</strong><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`npm run test:visual`}</inlineCode></li>\n          <li parentName=\"ul\">{`Screenshots of the website (updated to have your changes) will be stored in memory and compared to the baseline images created in step 3. If the images are different, a \"diff\" image will be generated and stored in the `}<inlineCode parentName=\"li\">{`site-root/logs/visual-regression/diffs/desktop`}</inlineCode>{` directory`}</li>\n          <li parentName=\"ul\">{`All pages that have changed will be outputted as test case failures`}</li>\n        </ul></li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Run the visual regression test for mobile`}</strong><ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`npm run test:visual -- mobile`}</inlineCode></li>\n          <li parentName=\"ul\">{`Screenshots of the website (updated to have your changes) will be stored in memory and compared to the baseline images created in step 3. If the images are different, a \"diff\" image will be generated and stored in the `}<inlineCode parentName=\"li\">{`site-root/logs/visual-regression/diffs/mobile`}</inlineCode>{` directory`}</li>\n          <li parentName=\"ul\">{`All pages that have changed will be outputted as test case failures`}</li>\n        </ul></li>\n    </ol>\n    <h1 {...{\n      \"id\": \"limitationsideas-going-forward\"\n    }}>{`Limitations/ideas going forward`}</h1>\n    <p>{`Right now this is really limited to being useful for the developer, which I think is a good foundation if we decide to expand on it. Some thoughts -`}</p>\n    <ol>\n      <li parentName=\"ol\">{`All screenshots are stored in a git-ignored directory`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`All images are stored in `}<inlineCode parentName=\"li\">{`logs/visual-regression`}</inlineCode>{`, with two subdirectories, one being for the baseline and the other for diffs. This was the minimal implementation and what I considered to be a good stopping point for the first iteration.`}</li>\n          <li parentName=\"ul\">{`Do we want to include them in version control? And if so, will we store images using the commit SHA?`}</li>\n        </ul></li>\n      <li parentName=\"ol\">{`Tests fail on all pages that don't match the baseline`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`This means that intentionally-changed pages are detected as test failures the same as pages that may have been changed visually as an unintended side affect.`}</li>\n          <li parentName=\"ul\">{`If we want to plug this into our build pipeline, this will have to be addressed, meaning that we'll need a way for developers to sign off on pages that were intentionally changed.`}</li>\n        </ul></li>\n      <li parentName=\"ol\">{`Does not scroll or resize the browser window`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`This means that with this current implementation, we're only testing it on the desktop viewport. It wouldn't be very difficult to change the window size and take new screenshots as part of the automated tests but I wanted to avoid overkill on the first iteration.`}</li>\n        </ul></li>\n      <li parentName=\"ol\">{`Uses the sitemap to navigate throughout the site`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`Pages not included in the sitemap will not be evaluated by this tool.`}</li>\n        </ul></li>\n      <li parentName=\"ol\">{`Does not interact with the page at all`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`This means that style for elements that are visible only after certain user interactions will not be evaluated.`}</li>\n        </ul></li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}