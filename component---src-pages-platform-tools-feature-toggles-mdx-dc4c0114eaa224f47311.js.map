{"version":3,"sources":["webpack:///./src/components/EditLink.jsx","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/pages/platform/tools/feature-toggles.mdx","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["EditLink","_ref","sourceUrl","React","createElement","class","aria-hidden","href","SidebarLayout","children","location","pageContext","Layout","className","Sidebar","id","SidebarItem","item","key","name","Link","to","SidebarItems","_ref2","items","_ref2$isSublist","isSublist","length","map","sidebarSection","sidebarData","sections","find","section","pathname","includes","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","_objectWithoutPropertiesLoose","_excluded","mdx","Object","assign","mdxType","parentName","isMDXComponent","source","excluded","i","target","sourceKeys","keys","indexOf"],"mappings":"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","file":"component---src-pages-platform-tools-feature-toggles-mdx-dc4c0114eaa224f47311.js","sourcesContent":["import React from 'react';\n\nexport default function EditLink({ sourceUrl }) {\n  return sourceUrl ? (\n    <div>\n      <i class=\"fa fa-edit\" aria-hidden=\"true\" />{' '}\n      <a href={sourceUrl}>Edit this page on GitHub</a>\n    </div>\n  ) : null;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sidebar from '../components/sidebar/Sidebar';\nimport EditLink from '../components/EditLink';\nimport Layout from './Layout';\n\n/**\n * SidebarLayout\n *\n * @class SidebarLayout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location, pageContext }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row site-l-wrapper\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n          <EditLink sourceUrl={pageContext.sourceUrl} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react';\nimport { Link } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\n\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/veteran-facing-services-tools/veteran-facing-services-tools/packages/documentation/src/layouts/SidebarLayout.jsx\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"feature-toggles\"\n    }}>{`Feature toggles`}</h1>\n    <p>{`Feature toggles can be used in both vets-api and vets-website to manage unreleased features in a continuous integration environment. Feature toggles enable VFS teams to test out new functionality (applications, features, VA.gov content pages, Metalsmith) in the VSP development, staging, or production environments for a set of users. Teams can enable or disable a feature for all users, a percentage of all users, a percentage of all logged-in users, a list of users, or users defined in a method.`}</p>\n    <p>{`Feature toggles:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Allow for production toggle switching without redeploying vets-website`}</li>\n      <li parentName=\"ul\">{`Provide a user interface for managing feature toggle behavior`}</li>\n      <li parentName=\"ul\">{`Provide code helpers for handling common user experience scenarios`}</li>\n      <li parentName=\"ul\">{`Are powered by an open-source gem called `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/jnunemaker/flipper\"\n        }}>{`Flipper gem`}</a></li>\n    </ul>\n    <p>{`See the following sections for information about creating feature toggles:`}</p>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#writing-good-feature-toggles\"\n        }}>{`Writing good feature toggles`}</a></li>\n      <li parentName=\"ul\">{`Adding a new feature toggle`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#add-feature\"\n            }}>{`Frontend`}</a></li>\n          <li parentName=\"ul\"><a parentName=\"li\" {...{\n              \"href\": \"#backend\"\n            }}>{`Backend`}</a></li>\n        </ul>\n      </li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"#flipper-ui\"\n        }}>{`Enabling and disabling features`}</a></li>\n    </ul>\n    <h2 {...{\n      \"id\": \"a-idwriting-good-feature-toggleswriting-good-feature-togglesa\"\n    }}><a parentName=\"h2\" {...{\n        \"id\": \"writing-good-feature-toggles\"\n      }}>{`Writing good feature toggles`}</a></h2>\n    <p>{`Keep the following items in mind as you add feature toggles:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Remember that each environment has its own set of feature toggle values.`}</li>\n      <li parentName=\"ul\">{`Test your feature toggle in staging before using it in production.`}</li>\n      <li parentName=\"ul\">{`Remove feature toggles as soon as they are not needed.`}</li>\n      <li parentName=\"ul\">{`Make toggles that are `}<a parentName=\"li\" {...{\n          \"href\": \"https://programmingisterrible.com/post/139222674273/write-code-that-is-easy-to-delete-not-easy-to\"\n        }}>{`easy to delete`}</a>{` by gating a behavior in as few places as possible. It's often better to have blocks of repeating code that can be quickly deleted later than it is to gate several small pieces of code.`}</li>\n    </ul>\n    <p>{`After a page is rendered, the feature toggle client retrieves the latest toggle values from the feature toggle service and the page is updated using the latest feature toggle values. The application shows a loading state for the new feature while the toggle values are retrieved from the service.`}</p>\n    <h2 {...{\n      \"id\": \"a-idadd-featureadding-a-new-feature-toggle-frontenda\"\n    }}><a parentName=\"h2\" {...{\n        \"id\": \"add-feature\"\n      }}>{`Adding a new feature toggle (frontend)`}</a></h2>\n    <p>{`Follow these steps to add and use a new feature toggle in vets-website:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Determine your feature toggle name.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` There are no naming conventions yet. Current examples put the application name first, such as `}<inlineCode parentName=\"p\">{`facilityLocatorShowCommunityCares`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`profileShowDirectDeposit`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the feature name to vets-api (in snake case) by updating `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/config/features.yml\"\n          }}>{`config/features.yml`}</a>{`:`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yml\"\n      }}>{`features:\n  app_name_then_your_feature_name:\n    actor_type: user\n    description: >\n      This describes what the feature does and\n      which team is responsible for the toggle.\n`}</code></pre>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Determine how you want the feature toggle to be \"sticky\".\nFor the behavior to be consistent across all devices for a logged in user choose \"user\" as the actor_type.\nFor the behavior to be consistent for a user for the duration of a cookie within a single browser, regardless of their logged in status choose \"cookie_id\" as the actor_type.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run vets-api locally. This can be done on main after your pull request (PR) is merged or off of your feature branch.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Navigate to `}<a parentName=\"p\" {...{\n            \"href\": \"http://localhost:3000/flipper/features\"\n          }}>{`http://localhost:3000/flipper/features`}</a>{` and verify that you see your new feature name. If not, restart your rails server.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the feature toggle name to vets-website by updating `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/main/src/platform/utilities/feature-toggles/featureFlagNames.js\"\n          }}>{`featureFlagNames.js`}</a>{`.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-js\"\n          }}>{`const FEATURE_FLAG_NAMES = Object.freeze({\n  showYourFeatureName: \"app_name_then_your_feature_name\",\n});\n`}</code></pre>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` The key should be camelCase for use in JavaScript, but the value should exactly match the toggle name in `}<inlineCode parentName=\"p\">{`features.yml`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Submit a PR for each feature. Crosslinking the PRs in a comment will make it easier for the reviewers to check.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the selector helper to build a `}<a parentName=\"p\" {...{\n            \"href\": \"https://daveceddia.com/redux-selectors/\"\n          }}>{`selector`}</a>{` for your feature toggle. See an example `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/f6178ac59b1d691e0f31fb36903b8ba54091b517/src/applications/gi/containers/ProfilePage.jsx#L118\"\n          }}>{`here`}</a>{`.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` In the following example, the `}<inlineCode parentName=\"p\">{`toggleValues`}</inlineCode>{` object is a flat list of `}<inlineCode parentName=\"p\">{`toggleName`}</inlineCode>{` and boolean key value pairs. Also, note that `}<inlineCode parentName=\"p\">{`toggleValues`}</inlineCode>{` is imported from `}<inlineCode parentName=\"p\">{`platform/site-wide/feature-toggles/selectors`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`FEATURE_FLAG_NAMES`}</inlineCode>{` is imported from `}<inlineCode parentName=\"p\">{`platform/utilities/feature-toggles/featureFlagNames`}</inlineCode>{`.`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`// import the toggleValues helper\nimport { toggleValues } from \"platform/site-wide/feature-toggles/selectors\";\n\n// use the toggleValues helper to select the toggle values list\nexport const appNameThenYourFeatureName = (state) =>\n  toggleValues(state).appNameThenYourFeatureName;\n`}</code></pre>\n    <ol {...{\n      \"start\": 9\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the feature toggle value to gate your new behavior. For example, you can use the selector above in `}<inlineCode parentName=\"p\">{`mapStateToProps`}</inlineCode>{` to pass the toggle as a prop into your component.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` Currently the feature toggle values are only available on the global redux state.`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-js\"\n      }}>{`function mapStateToProps(state) {\n  return {\n    showYourFeatureName:\n      appNameThenYourFeatureName(state),\n  };\n}\n\n...\n// inside your connected component\n\nrender() {\n   const { showYourFeatureName } = this.props;\n\n   return (\n     { showYourFeatureName && <NewFeature /> }\n   );\n}\n`}</code></pre>\n    <ol {...{\n      \"start\": 10\n    }}>\n      <li parentName=\"ol\">{`Use the `}<a parentName=\"li\" {...{\n          \"href\": \"#flipper-ui\"\n        }}>{`Flipper UI`}</a>{` to test out the toggle locally. Refresh the page to update the feature toggle state. This value can take up to a minute to update in staging and production.`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"a-idbackendadding-a-new-feature-toggle-backenda\"\n    }}><a parentName=\"h2\" {...{\n        \"id\": \"backend\"\n      }}>{`Adding a new feature toggle (backend)`}</a></h2>\n    <p>{`Follow these steps to add and use a new feature toggle in vets-api:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Determine your feature toggle name.`}</p>\n        <p parentName=\"li\"><strong parentName=\"p\">{`Note:`}</strong>{` There are no naming conventions yet. Current examples put the application name first, such as `}<inlineCode parentName=\"p\">{`facilityLocatorShowCommunityCares`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`profileShowDirectDeposit`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Add the feature name to vets-api (in snake case) by updating `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/config/features.yml\"\n          }}>{`config/features.yml`}</a>{`:`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yml\"\n      }}>{`features:\n  app_name_then_your_feature_name:\n  actor_type: user\n  description: >\n    This describes what the feature does and\n    which team is responsible for the toggle.\n`}</code></pre>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Determine how you want the feature toggle to be \"sticky\".\nFor the behavior to be consistent across all devices for a logged in user choose \"user\" as the actor_type.\nFor the behavior to be consistent for a user for the duration of a cookie within a single browser, regardless of their logged in status choose \"cookie_id\" as the actor_type.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run vets-api locally. This can be done on master after your PR is merged or off of your feature branch.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Navigate to `}<a parentName=\"p\" {...{\n            \"href\": \"http://localhost:3000/flipper/features\"\n          }}>{`http://localhost:3000/flipper/features`}</a>{` and verify that you see your new feature name. If not, restart your rails server.`}</p>\n      </li>\n    </ol>\n    <h3 {...{\n      \"id\": \"backend-example\"\n    }}>{`Backend example`}</h3>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-rb\"\n      }}>{`def base_method_name(params)\n  if Flipper.enabled?(:feature_flag, @current_user)\n    base_method_name_feature_enabled(params)\n  else\n    base_method_name_feature_disabled(params)\n  end\nend\ndef base_method_name_feature_enabled(params)\n  # How it behaves with the feature toggle enabled\nend\ndef base_method_name_feature_disabled(params)\n  # How it behaves without the feature toggle enabled\nend\n\n### spec\nRSpec.describe Object do\n  context \"Feature feature_flag=true\" do\n    before do\n      Flipper.enable(:feature_flag)\n    end\n    it \"behaves this way with the feature enabled\" do\n    end\n  end\n  context \"Feature feature_flag=false\" do\n    before do\n      Flipper.disable(:feature_flag)\n    end\n    it \"behaves this way with the feature disabled\" do\n    end\n  end\nend\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"a-idflipper-uienabling-and-disabling-featuresa\"\n    }}><a parentName=\"h2\" {...{\n        \"id\": \"flipper-ui\"\n      }}>{`Enabling and disabling features`}</a></h2>\n    <p>{`You can enable or disable features in the Flipper UI:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Navigate to the Flipper UI at the following URLs:`}</li>\n    </ol>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Environment`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`URL`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Dev`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`http://localhost:3000/flipper/features`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Staging`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://staging-platform-api.va.gov/flipper/features\"\n            }}>{`https://staging-platform-api.va.gov/flipper/features`}</a></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Production`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://platform-api.va.gov/flipper/features\"\n            }}>{`https://platform-api.va.gov/flipper/features`}</a></td>\n        </tr>\n      </tbody>\n    </table>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`To access the Flipper UI, you must sign in using an `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/identity-personalization/va.gov-login-process.md\"\n        }}>{`identity-verified id.me user`}</a>{` that is listed in `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/config/settings.yml\"\n        }}>{`settings.yml`}</a>{`:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`flipper:\n  admin_user_emails:\n    - email@email.us\n    - email1@email.us\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Notes:`}</strong></p>\n    <ul>\n      <li parentName=\"ul\">{`In the `}<strong parentName=\"li\">{`Dev`}</strong>{` environment, to get around the incompleteness of user data in the sandbox environment, you should sign in with a specific test user - see `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/devops/blob/master/ansible/deployment/config/vets-api/dev-settings.local.yml.j2#L593\"\n        }}><inlineCode parentName=\"a\">{`dev-settings.local.yml`}</inlineCode></a>{` for more information. Credentials for this user can be found `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/va.gov-team-sensitive/blob/master/Administrative/vagov-users/mvi-staging-users.csv\"\n        }}>{`here`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`If you are not on the list, you can add yourself or your teammates to the file.`}</li>\n      <li parentName=\"ul\">{`If you're not sure if your account is identity-verified, you can check by going to `}<a parentName=\"li\" {...{\n          \"href\": \"https://www.va.gov/profile/\"\n        }}>{`this page`}</a>{`. If you need to verify your account you'll see a \"Verify with ID.me\" button.`}</li>\n    </ul>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Once you have logged into the Flipper UI, you can perform the following actions:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Select \"Enable for everyone\" or \"Disable for everyone\" to enable or disable the feature for all users.`}</li>\n          <li parentName=\"ul\">{`Use \"Percentage of Logged in Users\" for a `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/product-management/release-plan-template.md#phase-ii-staged-rollout-also-known-as-unmoderated-production-testing\"\n            }}>{`staged rollout`}</a>{` (gradual rollout or an a/b test).`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\">{`\"Percentage of Logged in Users\" will enable the feature for only a percentage of logged in users. It will be applied to the same users each time they return to the site (even when they log out and back in) as long as you don't change the percentage.`}</li>\n              <li parentName=\"ul\">{`If the feature toggle's actor`}<em parentName=\"li\">{`type in `}<a parentName=\"em\" {...{\n                    \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/config/features.yml\"\n                  }}>{`config/features.yml`}</a>{` is set to \"cookie_id\" rather than \"user\" then the feature instead applies to only a percentage of users for the duration of a cookie within a single browser, `}{`_`}{`regardless of their logged in status`}</em>{`. This is useful when you need to apply a staged rollout that involves an unauthenticated user experience.`}</li>\n            </ul>\n          </li>\n          <li parentName=\"ul\">{`Use \"Percentage of Time\" to enable a feature for all users for a percentage of time.`}</li>\n          <li parentName=\"ul\">{`Register a \"Group\" of users to enable a feature for.`}</li>\n          <li parentName=\"ul\">{`You can also roll out a feature for a select few users by adding their email address to the “Users” section. For performance reasons, the list of users is intended to be small — do not use this option for hundreds of users.`}</li>\n        </ul>\n        <p parentName=\"li\">{`The values of each toggle are cached in memory for one minute, so it may take that long to see the effect of enabling or disabling the toggle.`}</p>\n        <p parentName=\"li\"><img parentName=\"p\" {...{\n            \"src\": \"https://user-images.githubusercontent.com/19188/74881655-b4d11a80-533b-11ea-8e97-fdea24c10830.png\",\n            \"alt\": \"Screen Shot\"\n          }}></img></p>\n      </li>\n    </ol>\n    <p><em parentName=\"p\">{`The following sections contain information that will be phased out.`}</em></p>\n    <h2 {...{\n      \"id\": \"testing-new-applications-and-updates-to-existing-applications\"\n    }}>{`Testing new applications and updates to existing applications`}</h2>\n    <p><em parentName=\"p\">{`Use the method described above to `}<a parentName=\"em\" {...{\n          \"href\": \"#add-feature\"\n        }}>{`add`}</a>{` and `}<a parentName=\"em\" {...{\n          \"href\": \"#flipper-ui\"\n        }}>{`enable/disable`}</a>{` feature toggles. The method described in this section will be phased out.`}</em></p>\n    <p>{`In the `}<a parentName=\"p\" {...{\n        \"href\": \"https://staging.va.gov\"\n      }}>{`staging environment`}</a>{`, you can test unreleased features or applications using `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/main/src/platform/utilities/environment/index.js\"\n      }}>{`!isProduction()`}</a>{`.`}</p>\n    <p>{`In the `}<a parentName=\"p\" {...{\n        \"href\": \"https://www.va.gov\"\n      }}>{`production environment`}</a>{`, you can test unreleased features and applications by checking `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/main/src/platform/utilities/storage/localStorage.js\"\n      }}>{`localstorage`}</a>{` for a developer-defined name/value. You can do this by:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Adding the feature name/value to local storage with a console command in the browser`}</li>\n      <li parentName=\"ul\">{`Using application specific code that automatically checks when a certain query parameter is present`}</li>\n    </ul>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` Unreleased applications can be made available on production behind a password by setting `}<inlineCode parentName=\"p\">{`protected: yes`}</inlineCode>{` in `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/department-of-veterans-affairs/devops/blob/master/ansible/deployment/config/revproxy-vagov/vars/react_routes.yml\"\n      }}>{`react_routes.yml`}</a>{`. External teams should work with their DSVA contact to request support for enabling this.`}</p>\n    <h2 {...{\n      \"id\": \"testing-content-pages\"\n    }}>{`Testing content pages`}</h2>\n    <p><em parentName=\"p\">{`Use the method described above to `}<a parentName=\"em\" {...{\n          \"href\": \"#add-feature\"\n        }}>{`add`}</a>{` and `}<a parentName=\"em\" {...{\n          \"href\": \"#flipper-ui\"\n        }}>{`enable/disable`}</a>{` feature toggles. The method described in this section will be phased out.`}</em></p>\n    <h3 {...{\n      \"id\": \"app-landing-pages-generated-by-registryjson\"\n    }}>{`App-landing pages generated by registry.json`}</h3>\n    <p>{`Applications can control the HTML landing page associated with the application via a `}<inlineCode parentName=\"p\">{`template`}</inlineCode>{` property in the application's entry in the `}<inlineCode parentName=\"p\">{`src/applications/registry.json`}</inlineCode>{`. Properties defined inside the `}<inlineCode parentName=\"p\">{`template`}</inlineCode>{` property will pass through the Metalsmith templating process the same way as a vagov-content `}<inlineCode parentName=\"p\">{`.md`}</inlineCode>{` file. This means that via the `}<inlineCode parentName=\"p\">{`template`}</inlineCode>{` property, your appliations entry in `}<inlineCode parentName=\"p\">{`registry.json`}</inlineCode>{` can implement a feature toggle the same way as a `}<inlineCode parentName=\"p\">{`.md`}</inlineCode>{` file to prevent its HTML page from rendering in production environments. For example:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"appName\": \"Fantastic application\",\n  \"entryName\": \"fantastic-application\",\n  \"rootUrl\": \"/path/to/fantastic-application\",\n  \"template\": {\n    \"layout\": \"page-react.html\",\n    \"title\": \"Fantastic application\",\n    \"vagovprod\": false\n  }\n}\n`}</code></pre>\n    <p>{`The `}<inlineCode parentName=\"p\">{`vagovprod`}</inlineCode>{` property explicitly set to `}<inlineCode parentName=\"p\">{`false`}</inlineCode>{` will exclude this application from production builds.`}</p>\n    <h3 {...{\n      \"id\": \"vagov-content-md-files\"\n    }}>{`vagov-content .md files`}</h3>\n    <p>{`Unreleased content pages should always be made available on `}<a parentName=\"p\" {...{\n        \"href\": \"https://staging.va.gov\"\n      }}>{`staging.va.gov`}</a>{` by adding an exclusion toggle to the front matter of the content page. For example, because this front matter includes `}<inlineCode parentName=\"p\">{`vagovprod: false`}</inlineCode>{`, this content page would be excluded from the build for the production environment:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-markdown\"\n      }}>{`---\ntitle: Apply for disability benefits\nvagovprod: false\n---\n\n<nav aria-label=\"Breadcrumb\" aria-live=\"polite\" class=\"va-nav-breadcrumbs\"\nid=\"va-breadcrumbs\">\n`}</code></pre>\n    <p>{`Content pages can be excluded from any or all of these environments:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-markdown\"\n      }}>{`vagovprod: false\nvagovstaging: false\nvagovdev: false\nlocalhost: false\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"testing-cms-feature-toggles\"\n    }}>{`Testing CMS feature toggles`}</h2>\n    <p><em parentName=\"p\">{`Use the method described above to `}<a parentName=\"em\" {...{\n          \"href\": \"#add-feature\"\n        }}>{`add`}</a>{` and `}<a parentName=\"em\" {...{\n          \"href\": \"#flipper-ui\"\n        }}>{`enable/disable`}</a>{` feature toggles. The method described in this section will be phased out.`}</em></p>\n    <p>{`VA.gov creates some pages based on content from the VA's Drupal CMS. The CMS has its own content model, which can sometimes change. When those changes modify the existing structure of the content model, the queries and templates in vets-website that expect a different model may break. And because the CMS and vets-website are separate systems with different deployment processes, we can't push up changes in both systems simultaneously. In order to keep the two systems in sync, we need to be able to turn features on and off in vets-website depending on what environment we're in, and update that feature state whenever a cms deployment happens.`}</p>\n    <p>{`We've created some infrastructure to make this a little easier to do.`}</p>\n    <h3 {...{\n      \"id\": \"creating-a-toggle-and-turning-it-on-or-off\"\n    }}>{`Creating a toggle and turning it on or off`}</h3>\n    <p>{`When running a new vets-website build, the script will fetch all CMS feature toggles from Drupal. This allows the toggles to be controlled from within Drupal.`}</p>\n    <p>{`Before writing any code to use a new feature toggle, it must first be created from within Drupal for all three environments. The feature toggles can be found at `}<a parentName=\"p\" {...{\n        \"href\": \"https://dev.cms.va.gov/admin/config/system/feature_toggle\"\n      }}>{`https://dev.cms.va.gov/admin/config/system/feature_toggle`}</a>{` for dev. Staging and production have similar pages.`}</p>\n    <p><strong parentName=\"p\">{`Important:`}</strong>{` The new feature toggle `}<em parentName=\"p\">{`must`}</em>{` be in `}<em parentName=\"p\">{`every`}</em>{` Drupal environment or vets-website builds will fail when we try to use it! This is intentional so we don't have \"accidentally\" false feature toggles when Drupal doesn't have a toggle that vets-website is trying to use.`}</p>\n    <h3 {...{\n      \"id\": \"using-toggles-in-graphql-queries\"\n    }}>{`Using toggles in GraphQL queries`}</h3>\n    <p>{`Because the toggles are fetched dynamically, they aren't stored in a file that we can `}<inlineCode parentName=\"p\">{`require`}</inlineCode>{` from a GraphQL query file. The build script puts the current toggles are put into `}<inlineCode parentName=\"p\">{`global.cmsFeatureFlags`}</inlineCode>{` after it either fetches the most recent toggles or uses the cache.`}</p>\n    <p>{`Keep in mind the advice in the `}<a parentName=\"p\" {...{\n        \"href\": \"#writing-good-feature-toggles\"\n      }}>{`writing good feature toggles`}</a>{` section. You should write the logic in a way that is easy to remove later. It's often easier to change some logic and then add a conditional that modifies something with the toggle is not enabled. That lets you simply remove the conditional later.`}</p>\n    <h3 {...{\n      \"id\": \"using-feature-toggles-in-liquid-templates\"\n    }}>{`Using feature toggles in Liquid templates`}</h3>\n    <p>{`All liquid templates have access to the current feature toggle state:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-liquid\"\n      }}>{`{% if enabledFeatureFlags.feature1 == true %}\n  <div>Fancy new feature</div>\n{% endif %}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Note:`}</strong>{` From within the JavaScript context, the feature toggles are in `}<inlineCode parentName=\"p\">{`global.cmsFeatureFlags`}</inlineCode>{`, but within the Liquid template context, they can be found in `}<inlineCode parentName=\"p\">{`enabledFeatureFlags`}</inlineCode>{`.`}</p>\n    <h2 {...{\n      \"id\": \"need-assistance\"\n    }}>{`Need assistance?`}</h2>\n    <p>{`Tag #vfs-platform-support in Slack if you need more information.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"sourceRoot":""}