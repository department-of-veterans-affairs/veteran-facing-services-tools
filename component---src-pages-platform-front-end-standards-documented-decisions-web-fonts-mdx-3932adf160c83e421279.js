(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"3dLD":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("q1tI"),l=n.n(a),o=n("Wbzz");function r(){return l.a.createElement(o.StaticQuery,{query:"68798663",render:function(e){return l.a.createElement(s,{items:e.components.edges.map((function(e){return{href:e.node.path,name:e.node.context.name}}))})}})}function i(e){var t=e.item;return t.href?l.a.createElement("li",{key:t.name},l.a.createElement(o.Link,{to:t.href},t.name)):l.a.createElement("li",{key:t.name},t.name," (future)")}function s(e){var t=e.items,n=e.isSublist,a=void 0!==n&&n;return t.length?l.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?l.a.createElement("li",{key:e.name},a&&l.a.createElement(i,{item:e}),!a&&l.a.createElement("h2",{className:"heading-level-4"},e.name),l.a.createElement(s,{isSublist:!0,items:e.items})):"componentList"===e.query?l.a.createElement("li",{key:e.name},a&&l.a.createElement(i,{item:e}),!a&&l.a.createElement("h2",{className:"heading-level-4"},e.name),l.a.createElement(r,null)):l.a.createElement(i,{item:e,key:e.name})}))):null}var m=n("MEl4"),c=n.n(m);function d(e){var t=e.location,n=c.a.sections.find((function(e){return t.pathname.includes(e.href)}));return n?l.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},l.a.createElement("div",{className:"site-c-sidenav"},l.a.createElement(s,{items:n.items}))):null}function b(e){var t=e.sourceUrl;return l.a.createElement("div",null,l.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",l.a.createElement("a",{href:t},"Edit this page on GitHub"))}var u=n("8FPV");function f(e){var t=e.children,n=e.location,a=e.pageContext;return l.a.createElement(u.a,{location:n},l.a.createElement("div",{className:"vads-l-row"},l.a.createElement(d,{location:n}),l.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,l.a.createElement(b,{sourceUrl:a.sourceUrl}))))}},zdC0:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return r})),n.d(t,"default",(function(){return m}));var a=n("zLVn"),l=(n("q1tI"),n("7ljp")),o=n("3dLD"),r={},i={_frontmatter:r},s=o.a;function m(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(l.mdx)(s,Object.assign({},i,n,{components:t,mdxType:"MDXLayout"}),Object(l.mdx)("h1",{id:"web-fonts-improvements"},"WEB-FONTS IMPROVEMENTS"),Object(l.mdx)("table",null,Object(l.mdx)("thead",{parentName:"table"},Object(l.mdx)("tr",{parentName:"thead"},Object(l.mdx)("th",Object.assign({parentName:"tr"},{align:null})),Object(l.mdx)("th",Object.assign({parentName:"tr"},{align:null})),Object(l.mdx)("th",Object.assign({parentName:"tr"},{align:null})),Object(l.mdx)("th",Object.assign({parentName:"tr"},{align:null})))),Object(l.mdx)("tbody",{parentName:"table"},Object(l.mdx)("tr",{parentName:"tbody"},Object(l.mdx)("td",Object.assign({parentName:"tr"},{align:null}),Object(l.mdx)("strong",{parentName:"td"},"Decision Made:")),Object(l.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"No"),Object(l.mdx)("td",Object.assign({parentName:"tr"},{align:null}),Object(l.mdx)("strong",{parentName:"td"},"Decision Date:")),Object(l.mdx)("td",Object.assign({parentName:"tr"},{align:null}),"Winter 2019")))),Object(l.mdx)("h3",{id:"goals"},"GOALS"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Improving First Contentful Paint"),Object(l.mdx)("li",{parentName:"ul"},"Improve loading time")),Object(l.mdx)("p",null,Object(l.mdx)("strong",{parentName:"p"},"Decision Maker:")," @jhonnyoddball and @rianfowler"),Object(l.mdx)("hr",null),Object(l.mdx)("h3",{id:"proposed-solutions"},"PROPOSED SOLUTIONS"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Adding ",Object(l.mdx)("inlineCode",{parentName:"li"},"font-display: swap;")," to all webfonts to remove FOIT (Flash of Invisible Text)"),Object(l.mdx)("li",{parentName:"ul"},"Splitting the webfonts into their own css and adding them to the head before the main css"),Object(l.mdx)("li",{parentName:"ul"},"Inline the webfonts into the css"),Object(l.mdx)("li",{parentName:"ul"},"Encoding the fonts on base64"),Object(l.mdx)("li",{parentName:"ul"},"Remove hashing from the font names"),Object(l.mdx)("li",{parentName:"ul"},"Preloading the fonts (hard-coded the 4 needed on the header or dynamically, but can run into problems if they are more than 5 fonts per application)"),Object(l.mdx)("li",{parentName:"ul"},"Use of ",Object(l.mdx)("a",Object.assign({parentName:"li"},{href:"https://github.com/bramstein/fontfaceobserver"}),"Font Face Observer"))),Object(l.mdx)("hr",null),Object(l.mdx)("h3",{id:"case-studies-and-documentation"},"CASE STUDIES AND DOCUMENTATION"),Object(l.mdx)("p",null,Object(l.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/va.gov-team/issues/1676"}),"https://github.com/department-of-veterans-affairs/va.gov-team/issues/1676")),Object(l.mdx)("hr",null),Object(l.mdx)("h3",{id:"summary"},"SUMMARY"),Object(l.mdx)("h4",{id:"adding-font-display-swap"},"Adding font-display: swap;"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"This is a great feature to add. It will force the use of the system fonts until the webfonts are ready. If the browser doesn't not support it, it will act regularly."),Object(l.mdx)("li",{parentName:"ul"},"We can't really use it since we are only able to change 4 out of 37 fonts.")),Object(l.mdx)("h4",{id:"splitting-the-webfonts-into-their-own-css"},"Splitting the webfonts into their own css"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"The separation of the webfonts into a separate css file did not make any difference nor impacted the webfonts in any way.")),Object(l.mdx)("h4",{id:"inline-the-webfonts-into-the-css-and-encoding-the-fonts-on-base64"},"Inline the webfonts into the css and Encoding the fonts on base64"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Inline the webfonts into the css can easily be performed by encoding the webfonts as base64 and url-loader already transforms files into base64 URIs."),Object(l.mdx)("li",{parentName:"ul"},"Encode base64 and inline the webfonts made things worst.")),Object(l.mdx)("h4",{id:"preloading-the-fonts"},"Preloading the fonts"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Using pre-load in some of the fonts can improve the performance. Doing this helps the FCP since the webfonts will not be blocked by the CSS files."),Object(l.mdx)("li",{parentName:"ul"},"In order to do this I removed the hashing from the webfonts and hard-coded them in the header")),Object(l.mdx)("pre",null,Object(l.mdx)("code",Object.assign({parentName:"pre"},{}),'  <link rel="preload" href="/generated/sourcesanspro-bold-webfont.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/sourcesanspro-regular-webfont.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/bitter-bold.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>\n')),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"If FCP is the priority over the loading time, then pre-loading could be a good option to improve the performance of the fonts."),Object(l.mdx)("li",{parentName:"ul"},"Keep in mind that we should only pre-load 3-4 fonts only because we might end up pre-loading fonts that will not be used in the page.")),Object(l.mdx)("h4",{id:"use-font-face-observer"},"Use Font Face Observer"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Since we could be calling any of our current fonts from multiple css locations, therefore this will be hard to implement."),Object(l.mdx)("li",{parentName:"ul"},"This will also apply to any webfont loader")),Object(l.mdx)("hr",null),Object(l.mdx)("h3",{id:"decision"},"DECISION"),Object(l.mdx)("ul",null,Object(l.mdx)("li",{parentName:"ul"},"Remove hashing from webfonts"),Object(l.mdx)("li",{parentName:"ul"},"Pre-load the 4 main fonts in the header")))}m.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-platform-front-end-standards-documented-decisions-web-fonts-mdx-3932adf160c83e421279.js.map