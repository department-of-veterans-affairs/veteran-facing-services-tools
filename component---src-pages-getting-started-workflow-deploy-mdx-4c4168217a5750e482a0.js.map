{"version":3,"sources":["webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/components/pageFooter/Components.jsx","webpack:///./src/components/pageFooter/Documentation.jsx","webpack:///./src/components/pageFooter/PageFooter.jsx","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/pages/getting-started/workflow/deploy.mdx"],"names":["ComponentList","query","render","data","SidebarItems","items","components","edges","map","comp","href","node","path","name","context","SidebarItem","item","key","to","isSublist","length","className","Sidebar","location","sidebarSection","sidebarData","sections","find","section","pathname","includes","componentToMatch","toLowerCase","ComponentItem","link","base","Components","splits","split","getPathName","pathName","replace","charAt","substring","Documentation","level1","indexmdx","Array","isArray","lvl2Item","getIndexMdx","PageFooter","class","aria-hidden","getGithubHref","SidebarLayout","children","Layout","id","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-getting-started-workflow-deploy-mdx-4c4168217a5750e482a0.js","sourcesContent":["import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction ComponentList() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentListQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n            sort: { fields: [context___name], order: ASC }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => (\n        <SidebarItems\n          items={data.components.edges.map(comp => ({\n            href: comp.node.path,\n            name: comp.node.context.name,\n          }))}\n        />\n      )}\n    />\n  );\n}\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        if (item.query === 'componentList') {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <ComponentList />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Finds a specific component inside a list\n *\n * @param {string} componentToMatch\n */\n\nfunction ComponentList({ componentToMatch }) {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentsQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n            sort: { fields: [context___name], order: ASC }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={(data) =>\n        data.components.edges.map((comp) => {\n          return componentToMatch === comp.node.context.name.toLowerCase() ? (\n            <ComponentItem\n              item={{\n                name: comp.node.context.name,\n              }}\n            />\n          ) : (\n            ''\n          );\n        })\n      }\n    />\n  );\n}\n\nfunction ComponentItem({ item }) {\n  const base = `https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages`;\n  const formationReact = '/formation-react/src/components/';\n  const link = base + formationReact + item.name + '/' + item.name + '.mdx';\n  return <Link to={link}>Edit this page on GitHub</Link>;\n}\n\nexport default function Components({ pathname }) {\n  const splits = pathname.split('/');\n  return <ComponentList componentToMatch={splits[3]} />;\n}\n","import React from 'react';\nimport { Link } from 'gatsby';\n\nimport sidebarData from '../../sidebar';\n\n/**\n * This function will return if the name of the file is index.mdx\n * instead of the default value\n * @param {object} location - Used to obtain the page location\n * @returns {string} - Return either index or empty if not needed\n */\n\nconst getIndexMdx = (location) => {\n  const pathName = getPathName(location);\n\n  const sidebarSection = sidebarData.sections.find((section) =>\n    pathName.includes(section.href),\n  );\n\n  // Test first Level of the sidebar object\n  const level1 = sidebarData.sections.find(\n    (section) => section.href === pathName,\n  );\n\n  if (level1?.indexmdx) {\n    return '/index';\n  }\n\n  // Test second Level of the sidebar object\n  if (sidebarSection?.items) {\n    const level2Sections = sidebarSection.items.map((item) => {\n      return Array.isArray(item.items)\n        ? item.items.find((lvl2Item) => lvl2Item.href === pathName)\n        : null;\n    });\n\n    const level2 = level2Sections.map((section) => {\n      if (section?.href && section.href === pathName) {\n        return section?.indexmdx ? true : false;\n      }\n    });\n\n    if (level2.find((indexmdx) => indexmdx)) {\n      return '/index';\n    }\n  }\n\n  return '';\n};\n\nconst getPathName = (location) => {\n  // Remove extra path in production environment\n  let pathName = location.pathname.replace(\n    '/veteran-facing-services-tools',\n    '',\n  );\n\n  // Check for additional '/' at the end when refreshing the browser\n  if (pathName.length > 0 && pathName.charAt(pathName.length - 1) === '/') {\n    pathName = pathName.substring(0, pathName.length - 1);\n  }\n\n  return pathName;\n};\n\nexport default function Documentation({ location }) {\n  const base = `https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages`;\n  const documentation = '/documentation/src/pages';\n  const link =\n    base +\n    documentation +\n    getPathName(location) +\n    getIndexMdx(location) +\n    '.mdx';\n\n  return <Link to={link}>Edit this page on GitHub</Link>;\n}\n","import React from 'react';\nimport Components from './Components';\nimport Documentation from './Documentation';\n\nconst getGithubHref = (location) => {\n  if (location.pathname.includes('components')) {\n    const pathName = location.pathname.replace(\n      '/veteran-facing-services-tools',\n      '',\n    );\n    return <Components pathname={pathName} />;\n  } else {\n    return <Documentation location={location} />;\n  }\n};\n\nexport default function PageFooter({ location }) {\n  return (\n    <div>\n      <p>\n        <br />\n        <i class=\"fa fa-edit\" aria-hidden=\"true\"></i> {getGithubHref(location)}\n      </p>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Layout from './Layout';\nimport Sidebar from '../components/sidebar/Sidebar';\nimport PageFooter from '../components/pageFooter/PageFooter';\n\n/**\n * Layout\n *\n * @class Layout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n          <PageFooter location={location} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/jenkins/workspace/ran-facing-services-tools_master/packages/documentation/src/layouts/SidebarLayout.jsx\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component '\" + name + \"' was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"deploy\"\n    }}>{`Deploy`}</h1>\n    <p>{`Code goes through several steps to get to production. This document describes this process. It should also be noted that this is the same flow for both content and code changes.`}</p>\n    <h2 {...{\n      \"id\": \"automated-deployment-schedule\"\n    }}>{`Automated deployment schedule`}</h2>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Application`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Branch`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Changes in by`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Deployment Start`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Release History`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`vets-website`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`master`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`2:00pm ET M-F`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`3:00pm ET M-F`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/releases\"\n            }}>{`https://github.com/department-of-veterans-affairs/vets-website/releases`}</a></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`vets-api`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`master`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`2:00pm ET M-F`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`3:00pm ET M-F`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><a parentName=\"td\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/releases\"\n            }}>{`https://github.com/department-of-veterans-affairs/vets-api/releases`}</a></td>\n        </tr>\n      </tbody>\n    </table>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <p>{`Jenkins performs the following tasks after a pull request is merged into `}<inlineCode parentName=\"p\">{`master`}</inlineCode></p>\n    <ol>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Build`}</strong>{` `}<inlineCode parentName=\"li\">{`master`}</inlineCode>{` branch to create an deployment artifact (.tar file)`}</li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Deploy`}</strong>{` to development and staging using deployment artifact`}</li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"https://help.github.com/en/articles/creating-releases\"\n        }}>{`Create a release`}</a>{` in GitHub from master, tag artifacts of that commit SHA hash with release name`}</li>\n      <li parentName=\"ol\"><strong parentName=\"li\">{`Deploy`}</strong>{` to production using deployment artifact according to automated deployment schedule`}</li>\n    </ol>\n    <p><em parentName=\"p\">{`A big assumption in this process is that the `}<inlineCode parentName=\"em\">{`master`}</inlineCode>{` should always be deployable. As such, the deployment to the staging environment is configured to happen automatically and can be used to see what something would look like in a production-like environment for any kind of manual testing/verification.`}</em></p>\n    <h2 {...{\n      \"id\": \"process-details\"\n    }}>{`Process details`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://help.github.com/en/articles/creating-releases\"\n        }}>{`Create a release`}</a>{` in GitHub from master, tag artifacts of that commit SHA hash with release name`}</li>\n    </ul>\n    <p>{`Every work day at the configured time a `}<a parentName=\"p\" {...{\n        \"href\": \"http://jenkins.vetsgov-internal/job/deploys/job/vets-gov-automerge/\"\n      }}>{`Jenkins automerge job`}</a>{` sends a link to the #vetsgov-engineers Slack channel with a diff between the last release and the most recent changes in `}<inlineCode parentName=\"p\">{`master`}</inlineCode>{`. This commit reference is stored to ensure the diff and released version is deterministic.`}</p>\n    <p>{`After a time has elapsed ( currently set to 60m ) release is created at the reference from above.`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`Deploy`}</strong>{` to production using deployment artifacts`}</li>\n    </ul>\n    <p>{`From here, Jenkins can kickoff a production deployment. After the deployment occurs, the normal site monitoring infrastructure will be used to valide it is working. As this process is automatic any new features should have monitoring in place before, or as a part of their deployment`}</p>\n    <h2 {...{\n      \"id\": \"rollbacks\"\n    }}>{`Rollbacks`}</h2>\n    <p>{`If a production deployment introduces issues that affect Service Level Objectives (SLOs) established for the project, the DevOps team may restore service to users by rolling back the deployment. This is accomplished by triggering a new deploy job in Jenkins using a previous release tag.`}</p>\n    <p>{`The `}<strong parentName=\"p\">{`use of hotfixes is discouraged`}</strong>{`, but may be useful in an emergency situation when `}<inlineCode parentName=\"p\">{`master`}</inlineCode>{` has significantly deviated from the release and a fix to the failed production release is critical. To create a hotfix, create a branch from the last stable release tag, make changes necessary (with review), create a new release tag following the correct naming scheme, and trigger a deploy in Jenkins with the release name as a parameter.`}</p>\n    <p>{`If SLOs are not affected and a fix is not critical, no rollback will be issued. Instead the fix should be applied through the standard development workflow.`}</p>\n    <h2 {...{\n      \"id\": \"manual-deployment\"\n    }}>{`Manual deployment`}</h2>\n    <p>{`Two out-of-cycle deploys are supported in Jenkins:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`partial deploy including only static page changes (`}<inlineCode parentName=\"li\">{`vagov-content`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`Drupal`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\">{`full deploy of VA.gov client app and static pages`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"before-deploying\"\n    }}>{`Before deploying`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`Wait for `}<strong parentName=\"li\">{`Jenkins`}</strong>{` to `}<strong parentName=\"li\">{`build the change`}</strong>{` in `}<inlineCode parentName=\"li\">{`vets-website`}</inlineCode></li>\n      <li parentName=\"ul\">{`Builds status can be viewed `}<a parentName=\"li\" {...{\n          \"href\": \"http://jenkins.vetsgov-internal/blue/organizations/jenkins/testing%2Fvets-website/activity?branch=master\"\n        }}>{`here`}</a>{`. `}<em parentName=\"li\">{`Requires SOCKS proxy. See `}<a parentName=\"em\" {...{\n            \"href\": \"/getting-started/internal-tools\"\n          }}>{`Accessing internal tools`}</a></em></li>\n      <li parentName=\"ul\">{`If this build fails, you may need to log into Jenkins and restart it`}</li>\n    </ul>\n    <h3 {...{\n      \"id\": \"partial-deploy--static-page-changes-only\"\n    }}>{`Partial deploy- static page changes only`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Start a deploy job`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Log into Jenkins `}<a parentName=\"li\" {...{\n              \"href\": \"http://jenkins.vetsgov-internal/job/deploys/job/vets-gov-autodeploy-vets-website/\"\n            }}>{`here`}</a></li>\n          <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`Build with Parameters`}</strong></li>\n          <li parentName=\"ul\">{`Set the `}<strong parentName=\"li\">{`release_wait`}</strong>{` option to `}<strong parentName=\"li\">{`5`}</strong>{` minutes`}</li>\n          <li parentName=\"ul\">{`Check `}<strong parentName=\"li\">{`use_latest_release`}</strong>{` <-- `}<em parentName=\"li\">{`important`}</em></li>\n          <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`Build`}</strong></li>\n          <li parentName=\"ul\">{`Verify commits in `}<strong parentName=\"li\">{`deployment notification`}</strong></li>\n        </ul>\n        <p parentName=\"li\"><em parentName=\"p\">{`In Slack channel `}<strong parentName=\"em\">{`#vetsgov-engineers`}</strong>{`, Jenkins will include a link that shows the exact commits being released in the `}<strong parentName=\"em\">{`deploy notification`}</strong>{`.`}</em></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Verify`}</strong>{` changes in `}<strong parentName=\"p\">{`production`}</strong>{` once the build finishes`}</p>\n      </li>\n    </ol>\n    <h3 {...{\n      \"id\": \"full-deploy-of-vagov-client-app\"\n    }}>{`Full deploy of VA.gov client app`}</h3>\n    <ol>\n      <li parentName=\"ol\">{`Verify that your changes are committed and that the changes since the last deploy are safe to deploy:`}<ul parentName=\"li\">\n          <li parentName=\"ul\"><strong parentName=\"li\">{`Last deployment time`}</strong>{`: You can check the build `}<a parentName=\"li\" {...{\n              \"href\": \"http://jenkins.vetsgov-internal/job/deploys/job/vets-gov-autodeploy-vets-website/\"\n            }}>{`history`}</a>{` for the time of the last deploy (usually daily at 2pm EST)`}</li>\n          <li parentName=\"ul\"><strong parentName=\"li\">{`Commit history`}</strong>{`: `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/commits/master\"\n            }}>{`Look`}</a>{` for commits after the last deploy and verify they're production ready.`}</li>\n        </ul></li>\n    </ol>\n    <p><em parentName=\"p\">{`You may need to contact the developers of those commits to verify.`}</em></p>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Start a deploy job`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Log into Jenkins `}<a parentName=\"li\" {...{\n              \"href\": \"http://jenkins.vetsgov-internal/job/deploys/job/vets-gov-autodeploy-vets-website/\"\n            }}>{`here`}</a></li>\n          <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`Build with Parameters`}</strong></li>\n          <li parentName=\"ul\">{`Set the `}<strong parentName=\"li\">{`release_wait`}</strong>{` option to `}<strong parentName=\"li\">{`5`}</strong>{` minutes`}</li>\n          <li parentName=\"ul\">{`Uncheck `}<strong parentName=\"li\">{`use_latest_release`}</strong>{` <-- `}<em parentName=\"li\">{`important`}</em></li>\n          <li parentName=\"ul\">{`Click `}<strong parentName=\"li\">{`Build`}</strong></li>\n          <li parentName=\"ul\">{`Verify commits in `}<strong parentName=\"li\">{`deployment notification`}</strong></li>\n        </ul>\n        <p parentName=\"li\"><em parentName=\"p\">{`In Slack channel `}<strong parentName=\"em\">{`#vetsgov-engineers`}</strong>{`, Jenkins will include a link that shows the exact commits being released in the `}<strong parentName=\"em\">{`deploy notification`}</strong>{`.`}</em></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Verify`}</strong>{` changes in `}<strong parentName=\"p\">{`production`}</strong>{` once the build finishes`}</p>\n      </li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}