{"version":3,"sources":["webpack:///./node_modules/@department-of-veterans-affairs/component-library/Table.js","webpack:///./src/pages/frontend-support-dashboard/unit-test-coverage-report/app.jsx"],"names":["Object","defineProperty","exports","value","_react","_interopRequireDefault","_classnames","obj","__esModule","borderClasses","_default","props","currentSort","fields","data","ariaLabelledBy","createElement","className","role","map","field","nonSortable","key","label","scope","fa","order","item","rowIndex","concat","index","alignLeft","alignRight","transformCoverageReportToArray","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","report","wrap","_context","prev","next","abrupt","values","cov","appName","path","substr","lastIndexOf","lines","pct","functions","statements","branches","stop","_x","apply","arguments","coverageReportFields","App","_ref2","location","_useState","useState","coverageReportData","setCoverageReportData","useEffect","_ref3","_callee2","rawTableData","transformedTableData","_context2","TestCoverageDataFetch","vetsWebsiteInfo","sent","handleCoverageReportData","length","React","Layout","Sidebar","id","Table"],"mappings":"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","file":"component---src-pages-frontend-support-dashboard-unit-test-coverage-report-app-jsx-6ddd02eb2411261ebe5e.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nvar borderClasses = 'vads-u-border-top--0 vads-u-border-right--0 vads-u-border-left--0 vads-u-font-family--sans vads-u-padding--0 vads-u-padding-y--0p5 medium-screen:vads-u-padding--2';\nvar rowPaddingClass = 'vads-u-padding-y--2';\nfunction Table(props) {\n  var currentSort = props.currentSort,\n    fields = props.fields,\n    data = props.data,\n    ariaLabelledBy = props.ariaLabelledBy;\n  return /*#__PURE__*/_react[\"default\"].createElement(\"table\", {\n    \"aria-labelledby\": ariaLabelledBy,\n    className: \"responsive\",\n    role: \"table\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(\"thead\", null, /*#__PURE__*/_react[\"default\"].createElement(\"tr\", {\n    role: \"row\"\n  }, fields.map(function (field) {\n    return field.nonSortable ? /*#__PURE__*/_react[\"default\"].createElement(\"th\", {\n      key: field.value\n    }, field.label) : /*#__PURE__*/_react[\"default\"].createElement(\"th\", {\n      key: field.value,\n      className: borderClasses,\n      role: \"columnheader\",\n      scope: \"col\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"button\", {\n      className: \"va-button-link vads-u-font-weight--bold vads-u-color--base vads-u-text-decoration--none\"\n    }, field.label, (currentSort === null || currentSort === void 0 ? void 0 : currentSort.value) === field.value && /*#__PURE__*/_react[\"default\"].createElement(\"i\", {\n      className: (0, _classnames[\"default\"])({\n        fa: true,\n        'fas fa-caret-down': currentSort.order === 'DESC',\n        'fas fa-caret-up': currentSort.order === 'ASC'\n      })\n    })));\n  }))), /*#__PURE__*/_react[\"default\"].createElement(\"tbody\", null, data.map(function (item, rowIndex) {\n    return /*#__PURE__*/_react[\"default\"].createElement(\"tr\", {\n      key: rowIndex,\n      className: \"\".concat(borderClasses, \" \").concat(rowPaddingClass),\n      role: \"row\"\n    }, fields.map(function (field, index) {\n      return /*#__PURE__*/_react[\"default\"].createElement(\"td\", {\n        \"data-index\": index,\n        className: (0, _classnames[\"default\"])(borderClasses, {\n          'vads-u-text-align--left': field.alignLeft,\n          'medium-screen:vads-u-text-align--right': field.alignRight\n        }),\n        \"data-label\": field.label,\n        key: \"\".concat(rowIndex, \"-\").concat(field.label),\n        role: \"cell\"\n      }, item[field.value] === null ? '---' : item[field.value]);\n    }));\n  })));\n}\nvar _default = Table;\nexports[\"default\"] = _default;","import React, { useEffect, useState } from 'react';\nimport Table from '@department-of-veterans-affairs/component-library/Table';\nimport Layout from '../../../layouts/Layout';\nimport Sidebar from '../../../components/sidebar/Sidebar';\nimport { TestCoverageDataFetch } from '../../../components/dashboard/DashboardDataFetch';\nimport { vetsWebsiteInfo } from '../../../components/dashboard/definitions/constants';\n\nconst transformCoverageReportToArray = async report => {\n  // Add each app coverage result to the table\n  return Object.values(report).map(cov => {\n    const appName = cov.path.substr(0, cov.path.lastIndexOf('/')) || 'All Files';\n\n    return ({\n      appName,\n      lines: `${cov.lines.pct}%`,\n      functions: `${cov.functions.pct}%`,\n      statements: `${cov.statements.pct}%`,\n      branches: `${cov.branches.pct}%`,\n    });\n  });\n};\n\nconst coverageReportFields = [\n  {\n    label: 'Application',\n    value: 'appName',\n  },\n  {\n    label: 'Lines',\n    value: 'lines',\n  },\n  {\n    label: 'Functions',\n    value: 'functions'\n  },\n  {\n    label: 'Statements',\n    value: 'statements',\n  },\n  {\n    label: 'Branches',\n    value: 'branches'\n  },\n];\n\nconst App = ({ location }) => {\n  const [coverageReportData, setCoverageReportData] = useState([]);\n\n  useEffect(() => {\n    const handleCoverageReportData = async () => {\n      const rawTableData = await TestCoverageDataFetch(vetsWebsiteInfo);\n      const transformedTableData = await transformCoverageReportToArray(rawTableData);\n      setCoverageReportData(transformedTableData);\n    };\n\n    handleCoverageReportData();\n  }, []); \n  \n  if (coverageReportData.length === 0) {\n    return null;\n  }\n\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row site-l-wrapper\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content-coverage\"\n          className=\"dash-coverage-table site-c-content__content docSearch-content vads-l-col--12\"\n        >\n          <h1>Frontend Support Dashboard</h1>\n          <h2>Unit Test Coverage Report</h2>\n          <Table data={coverageReportData} fields={coverageReportFields} />\n        </div>\n      </div>\n    </Layout>\n  );\n};\n\nexport default App;\n"],"sourceRoot":""}