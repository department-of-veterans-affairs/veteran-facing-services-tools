{"version":3,"sources":["webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/pages/platform/tools/downtime-notifications.mdx"],"names":["ComponentList","query","render","data","SidebarItems","items","components","edges","map","comp","href","node","path","name","context","SidebarItem","item","key","to","isSublist","length","className","Sidebar","location","sidebarSection","sidebarData","sections","find","section","pathname","includes","SidebarLayout","children","Layout","id","layoutProps","MDXContent","props","layout","DefaultLayout","this","Object","assign","parentName","React","Component","_frontmatter"],"mappings":"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","file":"component---src-pages-platform-tools-downtime-notifications-mdx-a6d155910eb714c1738d.js","sourcesContent":["import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction ComponentList() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentListQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => (\n        <SidebarItems\n          items={data.components.edges.map(comp => ({\n            href: comp.node.path,\n            name: comp.node.context.name,\n          }))}\n        />\n      )}\n    />\n  );\n}\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        if (item.query === 'componentList') {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <ComponentList />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Layout from './Layout';\nimport Sidebar from '../components/sidebar/Sidebar';\n\n/**\n * Layout\n *\n * @class Layout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react'\nimport { MDXTag } from '@mdx-js/tag'\n\n\nimport DefaultLayout from \"/home/jenkins/workspace/ran-facing-services-tools_master/packages/documentation/src/layouts/SidebarLayout.jsx\";\nconst layoutProps = {};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = DefaultLayout;\n  }\n\n  render() {\n    const {\n      components,\n      ...props\n    } = this.props;\n    return <MDXTag name=\"wrapper\" Layout={this.layout} layoutProps={Object.assign({}, layoutProps, props)} components={components}>\n\n      <h1 id=\"downtime-notifications\">Downtime Notifications</h1>\n      <MDXTag name=\"p\" components={components}>{`Downtime Notications are a mechanism for handling outages of external services in the consuming front-end applications. `}</MDXTag>\n      <h2 id=\"overview\">Overview</h2>\n      <MDXTag name=\"ul\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Available as a React component in `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/master/src/platform/monitoring/DowntimeNotification/index.jsx\"\n          }}>{`vets-website`}</MDXTag>{`.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Consumers of the React component register required-services as dependencies via React props`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Driven by `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://dsva.pagerduty.com/maintenance_windows\"\n          }}>{`PagerDuty maintenance windows`}</MDXTag>{` so that downtime for a certain service can be scheduled without requiring a deployment. `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://support.pagerduty.com/docs/maintenance-windows\"\n          }}>{`More info on PagerDuty maintenance windows`}</MDXTag>{`.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\">{`After a maintenance window is added in Pager Duty, an application wrapped in the Downtime Notification React component typically responds in one of three ways:`}<MDXTag name=\"ol\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Rendering the application as normal if the maintenance window does not start for upwards of an hour.`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Displaying a dismissible modal informing the user of upcoming downtime and rendering the application as usual if the maintenance window starts within the hour.`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Rendering an alert banner informing the user of active downtime instead of rendering the application if the maintenance window has already started.`}</MDXTag>\n          </MDXTag></MDXTag>\n      </MDXTag>\n      <h2 id=\"how-to-use\">How to use</h2>\n      <MDXTag name=\"ol\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Identify required-services for the application`}<MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`These services should be added into `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n                \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/platform/monitoring/DowntimeNotification/config/externalServices.js\"\n              }}>{`externalServices`}</MDXTag>{` if they have not already been. The value must match that in the devops `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n                \"href\": \"https://github.com/department-of-veterans-affairs/devops/blob/a4b5432061ae60a4f77952bbe5f668a1355ee007/ansible/deployment/config/vets-api/prod-settings.local.yml.j2#L232\"\n              }}>{`config`}</MDXTag>{`.`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`These dependencies may not be directly accessed by your application, but are more likely to be dependencies of the API method(s) consumed by your application. For example, the Search app requires Search.gov to function, even though it doesn't directly hit Search.gov.`}</MDXTag>\n          </MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Import the Downtime Notification React component into the application React code, usually the topmost container.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`In the render method, render a Downtime Notification React component passing the identified dependencies as props and the affected components as React children.`}</MDXTag>\n      </MDXTag>\n      <h3 id=\"example\">Example</h3>\n      <MDXTag name=\"p\" components={components}>{`Suppose an application `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`My App`}</MDXTag>{` leverages a service called `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`Fancy Service`}</MDXTag>{`, and `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`Fancy Service`}</MDXTag>{` was known to be offline for maintenance every now and then. During those timeframes, it is desirable to show a message to the user explaining that `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`My App`}</MDXTag>{` is unavailable at this time so that users aren't given the impression that they are running into unexpected errors and so that `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`Fancy Service`}</MDXTag>{` isn't needlessly hit. This should also be easy for engineers to do, without requiring any deployments to publish/unpublish the messaging. This is a pretty typical use case for the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`DowntimeNotification`}</MDXTag>{` React component.`}</MDXTag>\n      <h4 id=\"react-code\">React code</h4>\n      <MDXTag name=\"p\" components={components}>{`First, the topmost React container of My App is modified to import and consume the Downtime Notification React component. `}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`Note that `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`MyAppDataGrid`}</MDXTag>{` would issue the API request to `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`Fancy Service`}</MDXTag>{` during `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`componentDidMount`}</MDXTag>{`, rather than `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`MyApp`}</MDXTag>{`. This is because `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`MyAppDataGrid`}</MDXTag>{` is passed a child component to `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`DowntimeNotification`}</MDXTag>{`. `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`DowntimeNotification`}</MDXTag>{` will fetch the currently-registered maintenance windows from the VA API (which in return reads the maintenance windows from PagerDuty), and if it discovers active downtime  for `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`fancyService`}</MDXTag>{`, then the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`componentDidMount`}</MDXTag>{` lifecycle method of `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`MyAppDataGrid`}</MDXTag>{` will not execute. This way, API requests to Fancy Service won't continue to send during downtime.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}><MDXTag name=\"strong\" components={components} parentName=\"p\">{`src/applications/my-app/containers/MyApp.jsx`}</MDXTag></MDXTag>\n      <MDXTag name=\"pre\" components={components}><MDXTag name=\"code\" components={components} parentName=\"pre\" props={{\n          \"className\": \"language-jsx\"\n        }}>{`import React from 'react';\nimport { connect } from 'react-redux';\n\nimport {\n  DowntimeNotification,\n  externalServices,\n} from 'platform/monitoring/DowntimeNotifications';\n\nimport {\n  fetchFromFancyService\n} from '../actions';\n\nimport MyAppDataGrid from '../components/MyAppDataGrid';\n\nclass MyApp extends React.component {\n  render() {\n      return (\n        <>\n          <h1>My App</h1>\n          <DowntimeNotification appTitle=\"my app\" dependencies={[ externalServices.fancyService ]}>\n             <MyAppDataGrid fetchFromFancyService={this.props.fetchFromFancyService}/>\n          </DowntimeNotification>\n        </>\n      );\n  }\n\n}\n\nconst mapStateToProps = state => store.myApp;\n\nconst mapDispatchToProps = {\n  fetchFromFancyService,\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(MyApp);\n`}</MDXTag></MDXTag>\n      <MDXTag name=\"p\" components={components}>{`The render-flow for this container is:`}</MDXTag>\n      <MDXTag name=\"ol\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`MyApp`}</MDXTag>{`'s `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`render`}</MDXTag>{` method is executed`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`DowntimeNotification`}</MDXTag>{` issues a GET request to the VA API for all registered maintenance windows.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`DowntimeNotification`}</MDXTag>{` processes the response JSON data into a map.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\"><MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`DowntimeNotification`}</MDXTag>{` searches the downtime map for a service called `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`fancyService`}</MDXTag>{`, as passed in its `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`dependencies`}</MDXTag>{` prop.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`If downtime for `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`fancyService`}</MDXTag>{` is found:`}<MDXTag name=\"ul\" components={components} parentName=\"li\">\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`If the current time is in the timeframe of the downtime window, render an alert banner informing the user that this application is undergoing maintenance.`}</MDXTag>\n            <MDXTag name=\"li\" components={components} parentName=\"ul\">{`Otherwise, `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`DowntimeNotification`}</MDXTag>{` will renders its children, in this case `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`MyAppDataGrid`}</MDXTag>{`. A dismissible modal is also rendered if downtime is approaching within the hour.`}</MDXTag>\n          </MDXTag></MDXTag>\n      </MDXTag>\n      <h2 id=\"other-examples\">Other examples</h2>\n      <MDXTag name=\"ol\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`The Search app is a basic `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/search/containers/SearchApp.jsx#L301\"\n          }}>{`example`}</MDXTag>{` of an application having a single service dependency, in this case being Search.gov. The Facility Locator is another `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/facility-locator/containers/FacilityLocatorApp.jsx#L74\"\n          }}>{`example`}</MDXTag>{`.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`The Account app is another simple `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/personalization/account/containers/AccountApp.jsx#L23\"\n          }}>{`example`}</MDXTag>{`. This application has two dependencies. If either is down, then the application is considered in maintenance.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`The Sign-In Modal is an `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/platform/user/authentication/components/SignInModal.jsx#L74\"\n          }}>{`example`}</MDXTag>{` of a component that renders messaging about service downtime, but it does not affect the functionality of the component. Instead, it's more a heads-up for the user about potential difficulty. This is also the case for `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/letters/containers/LettersApp.jsx#L63\"\n          }}>{`Letters`}</MDXTag>{`.`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`The Dashboard app consists of components with their own unique dependencies, so that a certain service being in maintenance should result in reduced but partial functionality for the Dashboard. It serves as an `}<MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/personalization/dashboard/containers/DashboardApp.jsx#L398\"\n          }}>{`example`}</MDXTag>{` of a more complex implementation of Downtime Notifications.`}</MDXTag>\n      </MDXTag>\n           </MDXTag>;\n  }\n\n}\nexport const _frontmatter = {};\n    "],"sourceRoot":""}