(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"3dLD":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("q1tI"),r=a.n(n),i=a("Wbzz");function c(e){var t=e.item;return t.href?r.a.createElement("li",{key:t.name},r.a.createElement(i.Link,{to:t.href},t.name)):r.a.createElement("li",{key:t.name},t.name," (future)")}function l(e){var t=e.items,a=e.isSublist,n=void 0!==a&&a;return t.length?r.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?r.a.createElement("li",{key:e.name},n&&r.a.createElement(c,{item:e}),!n&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(l,{isSublist:!0,items:e.items})):r.a.createElement(c,{item:e,key:e.name})}))):null}var o=a("MEl4"),b=a.n(o);function s(e){var t=e.location,a=b.a.sections.find((function(e){return t.pathname.includes(e.href)}));return a?r.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},r.a.createElement("div",{className:"site-c-sidenav"},r.a.createElement(l,{items:a.items}))):null}function p(e){var t=e.sourceUrl;return t?r.a.createElement("div",null,r.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",r.a.createElement("a",{href:t},"Edit this page on GitHub")):null}var m=a("8FPV");function d(e){var t=e.children,a=e.location,n=e.pageContext;return r.a.createElement(m.a,{location:a},r.a.createElement("div",{className:"vads-l-row"},r.a.createElement(s,{location:a}),r.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,r.a.createElement(p,{sourceUrl:n.sourceUrl}))))}},Uxid:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return b}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),i=a("3dLD"),c={},l={_frontmatter:c},o=i.a;function b(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(r.b)(o,Object.assign({},l,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"set-up-vagov-locally"},"Set up VA.gov locally"),Object(r.b)("p",null,"These instructions cover building and running VA.gov locally, including configuring any required dependencies."),Object(r.b)("h2",{id:"node-setup"},"Node setup"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Install ",Object(r.b)("inlineCode",{parentName:"p"},"nvm"),":"),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Mac:")),Object(r.b)("p",{parentName:"li"},Object(r.b)("a",{parentName:"p",href:"http://brew.sh/"},"homebrew")," is recommended for installing ",Object(r.b)("inlineCode",{parentName:"p"},"nvm")," but other installation approaches are on ",Object(r.b)("a",{parentName:"p",href:"https://github.com/creationix/nvm#installation-and-update"},"nvm Github page"),"."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ brew update && brew install nvm\n")),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Linux:")),Object(r.b)("p",{parentName:"li"},"To get the latest version of NVM visit the official page. ",Object(r.b)("a",{parentName:"p",href:"https://github.com/nvm-sh/nvm"},"NVM")),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash\n")),Object(r.b)("p",{parentName:"li"},"Follow the post-install instructions in the success message.")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Install ",Object(r.b)("inlineCode",{parentName:"p"},"node 14.15.0")," (this also installs ",Object(r.b)("inlineCode",{parentName:"p"},"npm"),"):"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ nvm install 14.15.0\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Configure ",Object(r.b)("inlineCode",{parentName:"p"},"nvm")," to use ",Object(r.b)("inlineCode",{parentName:"p"},"node 14.15.0")," by default:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ nvm alias default 14.15.0\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Install ",Object(r.b)("inlineCode",{parentName:"p"},"yarn 1.21.1")," globally:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ npm i -g yarn@1.21.1\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Verify correct versions of ",Object(r.b)("inlineCode",{parentName:"p"},"node")," and ",Object(r.b)("inlineCode",{parentName:"p"},"yarn")," are installed:"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ node --version # 14.15.0\n$ yarn --version # 1.21.1\n")))),Object(r.b)("h2",{id:"get-the-source-code"},"Get the source code"),Object(r.b)("ol",{start:6},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clone VA.gov git repos ",Object(r.b)("strong",{parentName:"p"},"as sibling directories"),":"),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ git clone git@github.com:department-of-veterans-affairs/vets-website.git\n$ git clone git@github.com:department-of-veterans-affairs/vagov-content.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-json-schema.git\n$ git clone git@github.com:department-of-veterans-affairs/veteran-facing-services-tools.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api-mockdata.git\n")),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Front end repos")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"vets-website"),": Core front end platform and application code"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"vagov-content"),": Markdown content used to generate static pages"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"veteran-facing-services-tools"),": Shared front end components (including non VA.gov users) and front end documentation site")),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Back end repos")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"vets-api"),": Core Rails API server application code"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"vets-api-mockdata"),": Mock data used when running locally and on dev for the backend")),Object(r.b)("p",{parentName:"li"},Object(r.b)("strong",{parentName:"p"},"Shared repos")),Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("inlineCode",{parentName:"li"},"vets-json-schema"),": Shared JSON Schema definitions used by form applications and the APIs that they consume")))),Object(r.b)("h2",{id:"start-up-the-front-end"},"Start up the front end"),Object(r.b)("ol",{start:7},Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Navigate to the ",Object(r.b)("inlineCode",{parentName:"p"},"vets-website")," repository, then install ",Object(r.b)("inlineCode",{parentName:"p"},"vets-website")," dependencies. See these ",Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/vets-website/blob/master/README.md"},"common commands")," for more information."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ cd vets-website\n$ yarn install\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Build ",Object(r.b)("inlineCode",{parentName:"p"},"vets-website"),". Make sure you ",Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/engineering/internal-tools.md#configure-the-socks-proxy"},"configured the SOCKS proxy")," to fetch content from Drupal."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ yarn build\n")),Object(r.b)("p",{parentName:"li"},"If you do not have access to the SOCKS proxy, you can alternately fetch the latest cached version of the content."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ yarn fetch-drupal-cache\n"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Start the local development server."),Object(r.b)("pre",{parentName:"li"},Object(r.b)("code",{parentName:"pre",className:"language-bash"},"$ yarn watch\n")),Object(r.b)("p",{parentName:"li"},"The build is complete when the CLI says ",Object(r.b)("inlineCode",{parentName:"p"},"Compiled successfully"),".")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Open ",Object(r.b)("a",{parentName:"p",href:"http://localhost:3001"},"http://localhost:3001")," in a browser"))),Object(r.b)("h2",{id:"backend-and-internal-tools-set-up"},"Backend and internal tools set up"),Object(r.b)("p",null,"Setting up the backend and internal tools allows local test account login and static content rendering."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/vets-api"},Object(r.b)("strong",{parentName:"a"},"Backend (",Object(r.b)("inlineCode",{parentName:"strong"},"vets-api"),") set up")," instructions")),Object(r.b)("p",{parentName:"li"},"The local ",Object(r.b)("inlineCode",{parentName:"p"},"vets-website")," is configured to point to the ",Object(r.b)("inlineCode",{parentName:"p"},"vets-api")," backend at ",Object(r.b)("inlineCode",{parentName:"p"},"http://localhost:3000"),". Any website functionality that depends on the backend (i.e. login, save-in-progress, form submission, feature toggles) will require a locally running instance of ",Object(r.b)("inlineCode",{parentName:"p"},"vets-api"),".")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/vets.gov-team/blob/master/Administrative/Accessing-Staging.md"},Object(r.b)("strong",{parentName:"a"},"Local test account login")," instructions"))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("a",{parentName:"p",href:"internal-tools"},"Internal tools setup instructions")),Object(r.b)("p",{parentName:"li"},"This proxy setup is required to access static content locally and to access to our reporting and monitoring tools. Running the ",Object(r.b)("inlineCode",{parentName:"p"},"yarn watch")," task with the SOCKS proxy active will automatically pull and cache the static content for ",Object(r.b)("inlineCode",{parentName:"p"},"vets-website"),"."))))}b.isMDXComponent=!0},zLVn:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}a.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-getting-started-index-mdx-b9f106bf2c2c68e0b0b9.js.map