(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"3dLD":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a("q1tI"),i=a.n(n),r=a("Wbzz");function c(e){var t=e.item;return t.href?i.a.createElement("li",{key:t.name},i.a.createElement(r.Link,{to:t.href},t.name)):i.a.createElement("li",{key:t.name},t.name," (future)")}function s(e){var t=e.items,a=e.isSublist,n=void 0!==a&&a;return t.length?i.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?i.a.createElement("li",{key:e.name},n&&i.a.createElement(c,{item:e}),!n&&i.a.createElement("h2",{className:"heading-level-4"},e.name),i.a.createElement(s,{isSublist:!0,items:e.items})):i.a.createElement(c,{item:e,key:e.name})}))):null}var l=a("MEl4"),o=a.n(l);function b(e){var t=e.location,a=o.a.sections.find((function(e){return t.pathname.includes(e.href)}));return a?i.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},i.a.createElement("div",{className:"site-c-sidenav"},i.a.createElement(s,{items:a.items}))):null}function p(e){var t=e.sourceUrl;return t?i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",i.a.createElement("a",{href:t},"Edit this page on GitHub")):null}var m=a("8FPV");function d(e){var t=e.children,a=e.location,n=e.pageContext;return i.a.createElement(m.a,{location:a},i.a.createElement("div",{className:"vads-l-row"},i.a.createElement(b,{location:a}),i.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,i.a.createElement(p,{sourceUrl:n.sourceUrl}))))}},Uxid:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return o}));var n=a("zLVn"),i=(a("q1tI"),a("7ljp")),r=a("3dLD"),c={},s={_frontmatter:c},l=r.a;function o(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(i.b)(l,Object.assign({},s,a,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h1",{id:"set-up-vagov-locally"},"Set up VA.gov locally"),Object(i.b)("p",null,"These instructions cover building and running VA.gov locally, including configuring any required dependencies."),Object(i.b)("h2",{id:"node-setup"},"Node setup"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Install ",Object(i.b)("inlineCode",{parentName:"p"},"nvm"),":"),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Mac:")),Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://brew.sh/"}),"homebrew")," is recommended for installing ",Object(i.b)("inlineCode",{parentName:"p"},"nvm")," but other installation approaches are on ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/creationix/nvm#installation-and-update"}),"nvm Github page"),"."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ brew update && brew install nvm\n")),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Linux:")),Object(i.b)("p",{parentName:"li"},"To get the latest version of NVM visit the official page. ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/nvm-sh/nvm"}),"NVM")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash\n")),Object(i.b)("p",{parentName:"li"},"Follow the post-install instructions in the success message.")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Install ",Object(i.b)("inlineCode",{parentName:"p"},"node 14.15.0")," (this also installs ",Object(i.b)("inlineCode",{parentName:"p"},"npm"),"):"),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ nvm install 14.15.0\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Configure ",Object(i.b)("inlineCode",{parentName:"p"},"nvm")," to use ",Object(i.b)("inlineCode",{parentName:"p"},"node 14.15.0")," by default:"),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ nvm alias default 14.15.0\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Install ",Object(i.b)("inlineCode",{parentName:"p"},"yarn 1.21.1")," globally:"),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ npm i -g yarn@1.21.1\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Verify correct versions of ",Object(i.b)("inlineCode",{parentName:"p"},"node")," and ",Object(i.b)("inlineCode",{parentName:"p"},"yarn")," are installed:"),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ node --version # 14.15.0\n$ yarn --version # 1.21.1\n")))),Object(i.b)("h2",{id:"get-the-source-code"},"Get the source code"),Object(i.b)("ol",{start:6},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Clone VA.gov git repos ",Object(i.b)("strong",{parentName:"p"},"as sibling directories"),":"),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ git clone git@github.com:department-of-veterans-affairs/vets-website.git\n$ git clone git@github.com:department-of-veterans-affairs/vagov-content.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-json-schema.git\n$ git clone git@github.com:department-of-veterans-affairs/veteran-facing-services-tools.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api-mockdata.git\n")),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Front end repos")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vets-website"),": Core front end platform and application code"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vagov-content"),": Markdown content used to generate static pages"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"veteran-facing-services-tools"),": Shared front end components (including non VA.gov users) and front end documentation site")),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Back end repos")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vets-api"),": Core Rails API server application code"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vets-api-mockdata"),": Mock data used when running locally and on dev for the backend")),Object(i.b)("p",{parentName:"li"},Object(i.b)("strong",{parentName:"p"},"Shared repos")),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"vets-json-schema"),": Shared JSON Schema definitions used by form applications and the APIs that they consume")))),Object(i.b)("h2",{id:"start-up-the-front-end"},"Start up the front end"),Object(i.b)("ol",{start:7},Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Navigate to the ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website")," repository, then install ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website")," dependencies. See these ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets-website/blob/master/README.md"}),"common commands")," for more information."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ cd vets-website\n$ yarn install\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Build ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website"),". Make sure you ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/engineering/internal-tools.md#configure-the-socks-proxy"}),"configured the SOCKS proxy")," to fetch content from Drupal."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn build\n")),Object(i.b)("p",{parentName:"li"},"If you do not have access to the SOCKS proxy, you can alternately fetch the latest cached version of the content."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn fetch-drupal-cache\n"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Start the local development server."),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn watch\n")),Object(i.b)("p",{parentName:"li"},"The build is complete when the CLI says ",Object(i.b)("inlineCode",{parentName:"p"},"Compiled successfully"),".")),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},"Open ",Object(i.b)("a",Object.assign({parentName:"p"},{href:"http://localhost:3001"}),"http://localhost:3001")," in a browser"))),Object(i.b)("h2",{id:"backend-and-internal-tools-set-up"},"Backend and internal tools set up"),Object(i.b)("p",null,"Setting up the backend and internal tools allows local test account login and static content rendering."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets-api"}),Object(i.b)("strong",{parentName:"a"},"Backend (",Object(i.b)("inlineCode",{parentName:"strong"},"vets-api"),") set up")," instructions")),Object(i.b)("p",{parentName:"li"},"The local ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website")," is configured to point to the ",Object(i.b)("inlineCode",{parentName:"p"},"vets-api")," backend at ",Object(i.b)("inlineCode",{parentName:"p"},"http://localhost:3000"),". Any website functionality that depends on the backend (i.e. login, save-in-progress, form submission, feature toggles) will require a locally running instance of ",Object(i.b)("inlineCode",{parentName:"p"},"vets-api"),".")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets.gov-team/blob/master/Administrative/Accessing-Staging.md"}),Object(i.b)("strong",{parentName:"a"},"Local test account login")," instructions"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object.assign({parentName:"p"},{href:"internal-tools"}),"Internal tools setup instructions")),Object(i.b)("p",{parentName:"li"},"This proxy setup is required to access static content locally and to access to our reporting and monitoring tools. Running the ",Object(i.b)("inlineCode",{parentName:"p"},"yarn watch")," task with the SOCKS proxy active will automatically pull and cache the static content for ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website"),"."))))}o.isMDXComponent=!0},zLVn:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}a.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-getting-started-index-mdx-417874789e4dc1ab0325.js.map