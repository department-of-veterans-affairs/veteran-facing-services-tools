{"version":3,"sources":["webpack:///./src/components/EditLink.jsx","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/pages/platform/tools/downtime-notifications.mdx","webpack:///./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"],"names":["EditLink","sourceUrl","class","aria-hidden","href","SidebarLayout","children","location","pageContext","Layout","className","Sidebar","id","SidebarItem","item","key","name","to","SidebarItems","items","isSublist","length","map","sidebarSection","sidebarData","sections","find","section","pathname","includes","_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent","_objectWithoutPropertiesLoose","source","excluded","i","target","sourceKeys","Object","keys","indexOf"],"mappings":"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","file":"component---src-pages-platform-tools-downtime-notifications-mdx-ee43c8b320d1067ef5bf.js","sourcesContent":["import React from 'react';\n\nexport default function EditLink({ sourceUrl }) {\n  return sourceUrl ? (\n    <div>\n      <i class=\"fa fa-edit\" aria-hidden=\"true\" />{' '}\n      <a href={sourceUrl}>Edit this page on GitHub</a>\n    </div>\n  ) : null;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Sidebar from '../components/sidebar/Sidebar';\nimport EditLink from '../components/EditLink';\nimport Layout from './Layout';\n\n/**\n * SidebarLayout\n *\n * @class SidebarLayout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location, pageContext }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row site-l-wrapper\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n          <EditLink sourceUrl={pageContext.sourceUrl} />\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react';\nimport { Link } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\n\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/veteran-facing-services-tools/veteran-facing-services-tools/packages/documentation/src/layouts/SidebarLayout.jsx\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"downtime-notifications\"\n    }}>{`Downtime Notifications`}</h1>\n    <p>{`Downtime Notications are a mechanism for handling outages of external services in the consuming front-end applications.`}</p>\n    <h2 {...{\n      \"id\": \"overview\"\n    }}>{`Overview`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`Available as a React component in `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/main/src/platform/monitoring/DowntimeNotification/index.jsx\"\n        }}>{`vets-website`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`Consumers of the React component register required-services as dependencies via React props`}</li>\n      <li parentName=\"ul\">{`Driven by `}<a parentName=\"li\" {...{\n          \"href\": \"https://dsva.pagerduty.com/maintenance_windows\"\n        }}>{`PagerDuty maintenance windows`}</a>{` so that downtime for a certain service can be scheduled without requiring a deployment. `}<a parentName=\"li\" {...{\n          \"href\": \"https://support.pagerduty.com/docs/maintenance-windows\"\n        }}>{`More info on PagerDuty maintenance windows`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`After a maintenance window is added in Pager Duty, an application wrapped in the Downtime Notification React component typically responds in one of three ways:`}\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Rendering the application as normal if the maintenance window does not start for upwards of an hour.`}</li>\n          <li parentName=\"ol\">{`Displaying a dismissible modal informing the user of upcoming downtime and rendering the application as usual if the maintenance window starts within the hour.`}</li>\n          <li parentName=\"ol\">{`Rendering an alert banner informing the user of active downtime instead of rendering the application if the maintenance window has already started.`}</li>\n        </ol>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"how-to-use\"\n    }}>{`How to use`}</h2>\n    <p>{`Prerequisites`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Identify required-services for the application`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`These services should be available in `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/platform/monitoring/DowntimeNotification/config/externalServices.js\"\n            }}>{`externalServices`}</a>{` if they have not already been. The value must match that in the devops `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/devops/blob/a4b5432061ae60a4f77952bbe5f668a1355ee007/ansible/deployment/config/vets-api/prod-settings.local.yml.j2#L232\"\n            }}>{`config`}</a>{`.`}</li>\n          <li parentName=\"ul\">{`These dependencies may not be directly accessed by your application, but are more likely to be dependencies of the API method(s) consumed by your application. For example, the Search app requires Search.gov to function, even though it doesn't directly hit Search.gov.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h3 {...{\n      \"id\": \"forms-library-applications\"\n    }}>{`Forms library applications`}</h3>\n    <ol>\n      <li parentName=\"ol\">{`Import the services enum`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{`import { externalServices } from 'platform/monitoring/DowntimeNotification'\n`}</code></pre>\n    <ol {...{\n      \"start\": 2\n    }}>\n      <li parentName=\"ol\">{`Add a `}<inlineCode parentName=\"li\">{`downtime`}</inlineCode>{` property and `}<inlineCode parentName=\"li\">{`dependencies`}</inlineCode>{` array to the root of the form config. For example:`}</li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{}}>{` downtime: {\n    dependencies: [externalServices.evss, externalServices.emis, externalServices.mvi, externalServices.vet360],\n  },\n`}</code></pre>\n    <ol {...{\n      \"start\": 3\n    }}>\n      <li parentName=\"ol\">{`Add additional properties to `}<inlineCode parentName=\"li\">{`downtime`}</inlineCode>{` as needed:`}</li>\n    </ol>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`message`}</inlineCode>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`a react component displayed in place of the default downtime message`}</li>\n          <li parentName=\"ul\">{`custom downtime messages are discouraged`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`requiredForPrefill`}</inlineCode>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`true`}</inlineCode>{`:`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\">{`given a user is logged in, when any services in the dependencies array are down, then display downtime notification before starting a form`}</li>\n              <li parentName=\"ul\">{`given a user is logged in and has a saved form, when any services in the dependency array are down, then display the downtime notification before application submission`}</li>\n              <li parentName=\"ul\">{`given a user is not logged in,`}</li>\n            </ul>\n          </li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`false`}</inlineCode>{` `}{`[default]`}{`: when any services in the dependencies array are down, then display the downtime notification before application submission`}</li>\n        </ul>\n      </li>\n    </ul>\n    <ol {...{\n      \"start\": 4\n    }}>\n      <li parentName=\"ol\">{`If you need your FormBuilder app to have downtime notifications on intro page you also need to follow React implimentation below`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`The above implimentation only adds downtime notifications to the review page. Most forms will probably require to also the notifications on intro page so users dont find out at the end of the form.`}</li>\n        </ul>\n      </li>\n    </ol>\n    <p><em parentName=\"p\">{`The DowntimeNotifications component wraps the `}<inlineCode parentName=\"em\">{`FormStartControls`}</inlineCode>{` on the introduction page and the `}<inlineCode parentName=\"em\">{`SubmitController`}</inlineCode>{` on the review page. Users can edit and save forms for later during a downtime unless `}<inlineCode parentName=\"em\">{`requiredForPrefill`}</inlineCode>{` is true.`}</em></p>\n    <h3 {...{\n      \"id\": \"react-applications\"\n    }}>{`React applications`}</h3>\n    <ol>\n      <li parentName=\"ol\">{`Import the Downtime Notification React component into the application React code, usually the topmost container.`}</li>\n      <li parentName=\"ol\">{`In the render method, render a Downtime Notification React component passing the identified dependencies as props and the affected components as React children.`}</li>\n    </ol>\n    <h3 {...{\n      \"id\": \"example\"\n    }}>{`Example`}</h3>\n    <p>{`Suppose an application `}<em parentName=\"p\">{`My App`}</em>{` leverages a service called `}<em parentName=\"p\">{`Fancy Service`}</em>{`, and `}<em parentName=\"p\">{`Fancy Service`}</em>{` was known to be offline for maintenance every now and then. During those timeframes, it is desirable to show a message to the user explaining that `}<em parentName=\"p\">{`My App`}</em>{` is unavailable at this time so that users aren't given the impression that they are running into unexpected errors and so that `}<em parentName=\"p\">{`Fancy Service`}</em>{` isn't needlessly hit. This should also be easy for engineers to do, without requiring any deployments to publish/unpublish the messaging. This is a pretty typical use case for the `}<inlineCode parentName=\"p\">{`DowntimeNotification`}</inlineCode>{` React component.`}</p>\n    <h4 {...{\n      \"id\": \"react-code\"\n    }}>{`React code`}</h4>\n    <p>{`First, the topmost React container of My App is modified to import and consume the Downtime Notification React component.`}</p>\n    <p>{`Note that `}<inlineCode parentName=\"p\">{`MyAppDataGrid`}</inlineCode>{` would issue the API request to `}<em parentName=\"p\">{`Fancy Service`}</em>{` during `}<inlineCode parentName=\"p\">{`componentDidMount`}</inlineCode>{`, rather than `}<inlineCode parentName=\"p\">{`MyApp`}</inlineCode>{`. This is because `}<inlineCode parentName=\"p\">{`MyAppDataGrid`}</inlineCode>{` is passed a child component to `}<inlineCode parentName=\"p\">{`DowntimeNotification`}</inlineCode>{`. `}<inlineCode parentName=\"p\">{`DowntimeNotification`}</inlineCode>{` will fetch the currently-registered maintenance windows from the VA API (which in return reads the maintenance windows from PagerDuty), and if it discovers active downtime for `}<inlineCode parentName=\"p\">{`fancyService`}</inlineCode>{`, then the `}<inlineCode parentName=\"p\">{`componentDidMount`}</inlineCode>{` lifecycle method of `}<inlineCode parentName=\"p\">{`MyAppDataGrid`}</inlineCode>{` will not execute. This way, API requests to Fancy Service won't continue to send during downtime.`}</p>\n    <p><strong parentName=\"p\">{`src/applications/my-app/containers/MyApp.jsx`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-jsx\"\n      }}>{`import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  DowntimeNotification,\n  externalServices,\n} from \"platform/monitoring/DowntimeNotifications\";\n\nimport { fetchFromFancyService } from \"../actions\";\n\nimport MyAppDataGrid from \"../components/MyAppDataGrid\";\n\nclass MyApp extends React.component {\n  render() {\n    return (\n      <>\n        <h1>My App</h1>\n        <DowntimeNotification\n          appTitle=\"my app\"\n          dependencies={[externalServices.fancyService]}\n        >\n          <MyAppDataGrid\n            fetchFromFancyService={this.props.fetchFromFancyService}\n          />\n        </DowntimeNotification>\n      </>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => store.myApp;\n\nconst mapDispatchToProps = {\n  fetchFromFancyService,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MyApp);\n`}</code></pre>\n    <p>{`The render-flow for this container is:`}</p>\n    <ol>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`MyApp`}</inlineCode>{`'s `}<inlineCode parentName=\"li\">{`render`}</inlineCode>{` method is executed`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DowntimeNotification`}</inlineCode>{` issues a GET request to the VA API for all registered maintenance windows.`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DowntimeNotification`}</inlineCode>{` processes the response JSON data into a map.`}</li>\n      <li parentName=\"ol\"><inlineCode parentName=\"li\">{`DowntimeNotification`}</inlineCode>{` searches the downtime map for a service called `}<inlineCode parentName=\"li\">{`fancyService`}</inlineCode>{`, as passed in its `}<inlineCode parentName=\"li\">{`dependencies`}</inlineCode>{` prop.`}</li>\n      <li parentName=\"ol\">{`If downtime for `}<inlineCode parentName=\"li\">{`fancyService`}</inlineCode>{` is found:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`If the current time is in the timeframe of the downtime window, render an alert banner informing the user that this application is undergoing maintenance.`}</li>\n          <li parentName=\"ul\">{`Otherwise, `}<inlineCode parentName=\"li\">{`DowntimeNotification`}</inlineCode>{` will renders its children, in this case `}<inlineCode parentName=\"li\">{`MyAppDataGrid`}</inlineCode>{`. A dismissible modal is also rendered if downtime is approaching within the hour.`}</li>\n        </ul>\n      </li>\n    </ol>\n    <h4 {...{\n      \"id\": \"what-the-notification-looks-like-one-hour-before-service-goes-down-with-no-custom-content\"\n    }}>{`What the notification looks like one hour before service goes down with no custom content`}</h4>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1035px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/29007/downtime-one-hour-before.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"57.52895752895753%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB8UlEQVQoz22SW2sTQRSA+9/sQx9y2/vszuzsJTvdbFoFwRfRIoQojRYq+Bu0l9g2yya08cmHUuibWlOtDbHJJr3QGoxRMcnWlU1oaGOGj8PhDB9nLmdCVCygWAIOohiQkFRLHNIvSqoFsAmwCbXkdSaAkgA4IQR7CVFJUIIWolGYkcOsHKJRhMMRTolxCg8NSU2OyhEWRzlMAY0GeohGjzPP7fzWStZ+ve6s5Qp2vugUimv54sP0Mw4aSJ+5IccENcrhmKDSQJ+KAtvZcuvH7z+UDr6UD8uVvY+fSvuf//S8l6sbERZj4/YNmQY6FZgaB8lUVFxa3Xi3V9re2d3e2S3tH9Tc+mG50u32Xq2sR7j/5MF7SKoFtSQlaLazeXHRrHyt1mr145PTs7PzRuPE9/3l7LjOPCI8muYREWQzzOKcs/mt2XTdxlHVPaq6tSCpeZeXy9ncGJmFhIWEgYSXzSiH7Xyx9atzet5st9ut1o9Op9vr9XzfXxp750maTDLkFm2EJYuHRuHN259//e+/Pf9qeZ7XP/a4zowYZyWDEeNMEPXZu/dTTxbmUpm5VOZR+mk6s5ieX5xfeHHn3gOAzdGv4qDBQ8IjEiSIxK6GJJgQFtOiTos6BTRBnh4x+zIiAJuSaiF9ZoAcnx0yLI5oA/kfuN5kXhCuFH0AAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"downtime one hour before\",\n            \"title\": \"downtime one hour before\",\n            \"src\": \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/e3189/downtime-one-hour-before.png\",\n            \"srcSet\": [\"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/a2ead/downtime-one-hour-before.png 259w\", \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/6b9fd/downtime-one-hour-before.png 518w\", \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/e3189/downtime-one-hour-before.png 1035w\", \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/44d59/downtime-one-hour-before.png 1553w\", \"/veteran-facing-services-tools/static/5313a1393677cd1e7d0f153b512148fa/29007/downtime-one-hour-before.png 1600w\"],\n            \"sizes\": \"(max-width: 1035px) 100vw, 1035px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <h4 {...{\n      \"id\": \"this-is-what-the-downtime-notification-looks-like-during-downtime-period\"\n    }}>{`This is what the downtime notification looks like during downtime period`}</h4>\n    <p><span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1035px\"\n        }\n      }}>{`\n      `}<a parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-link\",\n          \"href\": \"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/203d3/downtime-during-downtime-period.png\",\n          \"style\": {\n            \"display\": \"block\"\n          },\n          \"target\": \"_blank\",\n          \"rel\": \"noopener\"\n        }}>{`\n    `}<span parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"76.44787644787644%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsTAAALEwEAmpwYAAACCElEQVQoz31SWc+bMBDM//9bfexTlZvcJMH4wPYag481uIJ8V6Sqo9EyKzT2MssiYGr7YPsojW+Ma4zvXFBaazBKTRXATK2GuYW5Bal0jLgIOLYuWYey9dJ41YbeRw1gWqumhzFtqzQY02o9aWNamM+NiIs8dGPU4zCOQxqHlMc0DGmckeeaUhqG4VVfr/InFtk96OnX/nTf7fbF4bgvDttdURxO++Kw3uyOx5N+DQugtVZKee9zzq8jFtlV8v67fNKyLK/X8nYrL5fbrbxfb+XlejtdroTUFakJqfWMEML3zWN/d/wPqeVyuVqtt+vNdrnabLa7We+Kw/FyvR5P59P5IoQAgDdzdsTyldSWUkYZY5xzLhjnMwWAsTNaa007RfVuzkPOKf8Hc3IT8xc/zT7EdXFZF+dzWfmUHY49Dg5Hj4OfxcQ0fggccfhhjpgetCkJLwknQlMJTAFT5i5sKToiW6agboA2QOUkIn6PuUBEKad/p2kkAHjvMUZE7Dy2PYaICSciRsQYY3jbc0qJMlbXlE5xsSktxgXnlInzszneeUXos6pJTR8VsV33teT55pQqrp9UP5l+MEWEIQKeDCquiTDWdsE723Vd31vbYXqLdjITrmljagFPqh5U0sY8qCICKg5MO2E8puGfe5jGFkIwxuiMaXAJzjmMIYZguqDth/nn177MfwGWTFT5r6vlrQAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"a\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"downtime during downtime period\",\n            \"title\": \"downtime during downtime period\",\n            \"src\": \"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/e3189/downtime-during-downtime-period.png\",\n            \"srcSet\": [\"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/a2ead/downtime-during-downtime-period.png 259w\", \"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/6b9fd/downtime-during-downtime-period.png 518w\", \"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/e3189/downtime-during-downtime-period.png 1035w\", \"/veteran-facing-services-tools/static/c4dacf0ea06b09905c2c69912c512342/203d3/downtime-during-downtime-period.png 1322w\"],\n            \"sizes\": \"(max-width: 1035px) 100vw, 1035px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\",\n            \"decoding\": \"async\"\n          }}></img>{`\n  `}</a>{`\n    `}</span></p>\n    <h3 {...{\n      \"id\": \"adding-a-new-pagerduty-service\"\n    }}>{`Adding a new PagerDuty service`}</h3>\n    <p>{`If you've created a new backend service that a React application depends on, follow these steps to allow the React application to fetch its downtime windows:`}</p>\n    <h4 {...{\n      \"id\": \"configuration\"\n    }}>{`Configuration`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Login to PagerDuty (`}<a parentName=\"li\" {...{\n          \"href\": \"https://dsva.pagerduty.com/\"\n        }}>{`https://dsva.pagerduty.com/`}</a>{`)`}</li>\n      <li parentName=\"ul\">{`Create your PagerDuty `}<strong parentName=\"li\">{`Service`}</strong>{` (`}<a parentName=\"li\" {...{\n          \"href\": \"https://dsva.pagerduty.com/service-directory\"\n        }}>{`https://dsva.pagerduty.com/service-directory`}</a>{`)`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`This may require you to create a PagerDuty Person, Escalation Policy, and/or Team that is specific to this service.`}</li>\n          <li parentName=\"ul\">{`Follow the naming convention of other backend services in PagerDuty by prepending \"External: \" to the service name (i.e. \"External: MyService\").`}</li>\n          <li parentName=\"ul\">{`You may also want to create multiple services for multiple enviornements (i.e. \"External: MyService\", \"Staging: External: MyService\", \"Dev: External: MyService\").`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`In the `}<a parentName=\"li\" {...{\n          \"href\": \"\"\n        }}>{`vets-api`}</a>{` repo, add your service to the list of `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/config/settings.yml#L441\"\n        }}>{`maintenance services`}</a>{` in `}<inlineCode parentName=\"li\">{`config/settings.yml`}</inlineCode>{`.`}</li>\n      <li parentName=\"ul\">{`In the `}<a parentName=\"li\" {...{\n          \"href\": \"\"\n        }}>{`devops`}</a>{` repo, make the same configuration change to each enviornemnt's config file.`}</li>\n      <li parentName=\"ul\">{`Deploy all changes.`}</li>\n    </ul>\n    <h4 {...{\n      \"id\": \"testing\"\n    }}>{`Testing`}</h4>\n    <ul>\n      <li parentName=\"ul\">{`Login to PagerDuty (`}<a parentName=\"li\" {...{\n          \"href\": \"https://dsva.pagerduty.com/\"\n        }}>{`https://dsva.pagerduty.com/`}</a>{`)`}</li>\n      <li parentName=\"ul\">{`Go to your `}<strong parentName=\"li\">{`staging`}</strong>{` service`}</li>\n      <li parentName=\"ul\">{`Create a maintenance window sometime in the future.`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`You can specify a message to a user by using the token \"USER_MESSAGE: \" in the description (i.e. \"Down for v16 update. USER_MESSAGE: We'll be back soon!\")`}\n            <ul parentName=\"li\">\n              <li parentName=\"ul\">\n                <ul parentName=\"li\">\n                  <li parentName=\"ul\">{`Note that custom messages are discouraged to maintain a consistent user experience.`}</li>\n                </ul>\n              </li>\n            </ul>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">{`Visit `}<a parentName=\"li\" {...{\n          \"href\": \"https://staging-platform-api.va.gov/v0/maintenance_windows\"\n        }}>{`https://staging-platform-api.va.gov/v0/maintenance_windows`}</a>{` and ensure that your service's downtime window is listed`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`This information is cached and may have a delay for up to 3 minutes (see: the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/department-of-veterans-affairs/vets-api/blob/master/app/workers/pager_duty/poll_maintenance_windows.rb\"\n            }}>{`PagerDuty::PollMaintenanceWindows job`}</a>{`).`}</li>\n        </ul>\n      </li>\n    </ul>\n    <h2 {...{\n      \"id\": \"other-examples\"\n    }}>{`Other examples`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`The Search app is a basic `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/search/containers/SearchApp.jsx#L301\"\n        }}>{`example`}</a>{` of an application having a single service dependency, in this case being Search.gov. The Facility Locator is another `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/facility-locator/containers/FacilityLocatorApp.jsx#L74\"\n        }}>{`example`}</a>{`.`}</li>\n      <li parentName=\"ol\">{`The Account app is another simple `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/personalization/account/containers/AccountApp.jsx#L23\"\n        }}>{`example`}</a>{`. This application has two dependencies. If either is down, then the application is considered in maintenance.`}</li>\n      <li parentName=\"ol\">{`The Sign-In Modal is an `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/platform/user/authentication/components/SignInModal.jsx#L74\"\n        }}>{`example`}</a>{` of a component that renders messaging about service downtime, but it does not affect the functionality of the component. Instead, it's more a heads-up for the user about potential difficulty. This is also the case for `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/letters/containers/LettersApp.jsx#L63\"\n        }}>{`Letters`}</a>{`.`}</li>\n      <li parentName=\"ol\">{`The Dashboard app consists of components with their own unique dependencies, so that a certain service being in maintenance should result in reduced but partial functionality for the Dashboard. It serves as an `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/90152b7cdf5b53d6650b44fed832995dbf7660cb/src/applications/personalization/dashboard/containers/DashboardApp.jsx#L398\"\n        }}>{`example`}</a>{` of a more complex implementation of Downtime Notifications.`}</li>\n    </ol>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}"],"sourceRoot":""}