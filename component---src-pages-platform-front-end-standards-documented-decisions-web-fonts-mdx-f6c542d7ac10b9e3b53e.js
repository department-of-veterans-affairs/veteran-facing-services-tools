(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{"3dLD":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),r=n.n(a),o=n("FRpb");function l(e){var t=e.sourceUrl;return t?r.a.createElement("div",null,r.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",r.a.createElement("a",{href:t},"Edit this page on GitHub")):null}var i=n("8FPV");function s(e){var t=e.children,n=e.location,a=e.pageContext;return r.a.createElement(i.a,{location:n},r.a.createElement("div",{className:"vads-l-row site-l-wrapper"},r.a.createElement(o.a,{location:n}),r.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,r.a.createElement(l,{sourceUrl:a.sourceUrl}))))}},FRpb:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),r=n.n(a),o=n("Wbzz");function l(e){var t=e.item;return t.href?r.a.createElement("li",{key:t.name},r.a.createElement(o.Link,{to:t.href},t.name)):r.a.createElement("li",{key:t.name},t.name," (future)")}function i(e){var t=e.items,n=e.isSublist,a=void 0!==n&&n;return t.length?r.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?r.a.createElement("li",{key:e.name},a&&r.a.createElement(l,{item:e}),!a&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(i,{isSublist:!0,items:e.items})):r.a.createElement(l,{item:e,key:e.name})}))):null}var s=n("MEl4"),b=n.n(s);function c(e){var t=e.location,n=b.a.sections.find((function(e){return t.pathname.includes(e.href)}));return n?r.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},r.a.createElement("div",{className:"site-c-sidenav"},r.a.createElement(i,{items:n.items}))):null}},zLVn:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,"a",(function(){return a}))},zdC0:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return i})),n.d(t,"default",(function(){return c}));var a=n("zLVn"),r=(n("q1tI"),n("7ljp")),o=n("3dLD"),l=["components"],i={},s={_frontmatter:i},b=o.a;function c(e){var t=e.components,n=Object(a.a)(e,l);return Object(r.b)(b,Object.assign({},s,n,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"web-fonts-improvements"},"WEB-FONTS IMPROVEMENTS"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",{parentName:"tr",align:null}),Object(r.b)("th",{parentName:"tr",align:null}),Object(r.b)("th",{parentName:"tr",align:null}),Object(r.b)("th",{parentName:"tr",align:null}))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"Decision Made:")),Object(r.b)("td",{parentName:"tr",align:null},"No"),Object(r.b)("td",{parentName:"tr",align:null},Object(r.b)("strong",{parentName:"td"},"Decision Date:")),Object(r.b)("td",{parentName:"tr",align:null},"Winter 2019")))),Object(r.b)("h3",{id:"goals"},"GOALS"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Improving First Contentful Paint"),Object(r.b)("li",{parentName:"ul"},"Improve loading time")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Decision Maker:")," @jhonnyoddball and @rianfowler"),Object(r.b)("hr",null),Object(r.b)("h3",{id:"proposed-solutions"},"PROPOSED SOLUTIONS"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Adding ",Object(r.b)("inlineCode",{parentName:"li"},"font-display: swap;")," to all webfonts to remove FOIT (Flash of Invisible Text)"),Object(r.b)("li",{parentName:"ul"},"Splitting the webfonts into their own css and adding them to the head before the main css"),Object(r.b)("li",{parentName:"ul"},"Inline the webfonts into the css"),Object(r.b)("li",{parentName:"ul"},"Encoding the fonts on base64"),Object(r.b)("li",{parentName:"ul"},"Remove hashing from the font names"),Object(r.b)("li",{parentName:"ul"},"Preloading the fonts (hard-coded the 4 needed on the header or dynamically, but can run into problems if they are more than 5 fonts per application)"),Object(r.b)("li",{parentName:"ul"},"Use of ",Object(r.b)("a",{parentName:"li",href:"https://github.com/bramstein/fontfaceobserver"},"Font Face Observer"))),Object(r.b)("hr",null),Object(r.b)("h3",{id:"case-studies-and-documentation"},"CASE STUDIES AND DOCUMENTATION"),Object(r.b)("p",null,Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va.gov-team/issues/1676"},"https://github.com/department-of-veterans-affairs/va.gov-team/issues/1676")),Object(r.b)("hr",null),Object(r.b)("h3",{id:"summary"},"SUMMARY"),Object(r.b)("h4",{id:"adding-font-display-swap"},"Adding font-display: swap;"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"This is a great feature to add. It will force the use of the system fonts until the webfonts are ready. If the browser doesn't not support it, it will act regularly."),Object(r.b)("li",{parentName:"ul"},"We can't really use it since we are only able to change 4 out of 37 fonts.")),Object(r.b)("h4",{id:"splitting-the-webfonts-into-their-own-css"},"Splitting the webfonts into their own css"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"The separation of the webfonts into a separate css file did not make any difference nor impacted the webfonts in any way.")),Object(r.b)("h4",{id:"inline-the-webfonts-into-the-css-and-encoding-the-fonts-on-base64"},"Inline the webfonts into the css and Encoding the fonts on base64"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Inline the webfonts into the css can easily be performed by encoding the webfonts as base64 and url-loader already transforms files into base64 URIs."),Object(r.b)("li",{parentName:"ul"},"Encode base64 and inline the webfonts made things worst.")),Object(r.b)("h4",{id:"preloading-the-fonts"},"Preloading the fonts"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Using pre-load in some of the fonts can improve the performance. Doing this helps the FCP since the webfonts will not be blocked by the CSS files."),Object(r.b)("li",{parentName:"ul"},"In order to do this I removed the hashing from the webfonts and hard-coded them in the header")),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},'  <link rel="preload" href="/generated/sourcesanspro-bold-webfont.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/sourcesanspro-regular-webfont.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/bitter-bold.woff2" as="font" type="font/woff2" crossorigin>\n  <link rel="preload" href="/generated/fa-solid-900.woff2" as="font" type="font/woff2" crossorigin>\n')),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"If FCP is the priority over the loading time, then pre-loading could be a good option to improve the performance of the fonts."),Object(r.b)("li",{parentName:"ul"},"Keep in mind that we should only pre-load 3-4 fonts only because we might end up pre-loading fonts that will not be used in the page.")),Object(r.b)("h4",{id:"use-font-face-observer"},"Use Font Face Observer"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Since we could be calling any of our current fonts from multiple css locations, therefore this will be hard to implement."),Object(r.b)("li",{parentName:"ul"},"This will also apply to any webfont loader")),Object(r.b)("hr",null),Object(r.b)("h3",{id:"decision"},"DECISION"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Remove hashing from webfonts"),Object(r.b)("li",{parentName:"ul"},"Pre-load the 4 main fonts in the header")))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-platform-front-end-standards-documented-decisions-web-fonts-mdx-f6c542d7ac10b9e3b53e.js.map