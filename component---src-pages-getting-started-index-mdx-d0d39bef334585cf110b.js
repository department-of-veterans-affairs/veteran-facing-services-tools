(window.webpackJsonp=window.webpackJsonp||[]).push([[44,51],{"3dLD":function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a("q1tI"),r=a.n(n),i=a("8FPV"),c=a("Wbzz");function m(){return r.a.createElement(c.StaticQuery,{query:"4277382034",render:function(e){return r.a.createElement(s,{items:e.components.edges.map((function(e){return{href:e.node.path,name:e.node.context.name}}))})}})}function o(e){var t=e.item;return t.href?r.a.createElement("li",{key:t.name},r.a.createElement(c.Link,{to:t.href},t.name)):r.a.createElement("li",{key:t.name},t.name," (future)")}function s(e){var t=e.items,a=e.isSublist,n=void 0!==a&&a;return t.length?r.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?r.a.createElement("li",{key:e.name},n&&r.a.createElement(o,{item:e}),!n&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(s,{isSublist:!0,items:e.items})):"componentList"===e.query?r.a.createElement("li",{key:e.name},n&&r.a.createElement(o,{item:e}),!n&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(m,null)):r.a.createElement(o,{item:e,key:e.name})}))):null}var l=a("MEl4"),d=a.n(l);function p(e){var t=e.location,a=d.a.sections.find((function(e){return t.pathname.includes(e.href)}));return a?r.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},r.a.createElement("div",{className:"site-c-sidenav"},r.a.createElement(s,{items:a.items}))):null}function b(e){var t=e.componentToMatch;return r.a.createElement(c.StaticQuery,{query:"4193446859",render:function(e){return e.components.edges.map((function(e){return t===e.node.context.name.toLowerCase()?r.a.createElement(u,{item:{name:e.node.context.name}}):""}))}})}function u(e){var t=e.item,a="https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages/formation-react/src/components/"+t.name+"/"+t.name+".mdx";return r.a.createElement(c.Link,{to:a},"Edit this page on GitHub")}function g(e){var t=e.pathname.split("/");return r.a.createElement(b,{componentToMatch:t[3]})}var O=function(e){var t=e.pathname.replace("/veteran-facing-services-tools","");return t.length>0&&"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t};function h(e){var t=e.location,a="https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages/documentation/src/pages"+O(t)+function(e){var t=O(e),a=d.a.sections.find((function(e){return t.includes(e.href)})),n=d.a.sections.find((function(e){return e.href===t}));if(null==n?void 0:n.indexmdx)return"/index";if((null==a?void 0:a.items)&&a.items.map((function(e){return Array.isArray(e.items)?e.items.find((function(e){return e.href===t})):null})).map((function(e){if((null==e?void 0:e.href)&&e.href===t)return!!(null==e?void 0:e.indexmdx)})).find((function(e){return e})))return"/index";return""}(t)+".mdx";return r.a.createElement(c.Link,{to:a},"Edit this page on GitHub")}function j(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",function(e){if(e.pathname.includes("components")){var t=e.pathname.replace("/veteran-facing-services-tools","");return r.a.createElement(g,{pathname:t})}return r.a.createElement(h,{location:e})}(t)))}function f(e){var t=e.children,a=e.location;return r.a.createElement(i.a,{location:a},r.a.createElement("div",{className:"vads-l-row"},r.a.createElement(p,{location:a}),r.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,r.a.createElement(j,{location:a}))))}},Uxid:function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return c})),a.d(t,"default",(function(){return s}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),i=a("3dLD"),c={},m={_frontmatter:c},o=i.a;function s(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(r.mdx)(o,Object.assign({},m,a,{components:t,mdxType:"MDXLayout"}),Object(r.mdx)("h1",{id:"set-up-vagov-locally"},"Set up VA.gov locally"),Object(r.mdx)("p",null,"These instructions cover building and running VA.gov locally, including configuring any required dependencies."),Object(r.mdx)("h2",{id:"node-setup"},"Node setup"),Object(r.mdx)("ol",null,Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Install ",Object(r.mdx)("inlineCode",{parentName:"p"},"nvm"),":"),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("strong",{parentName:"p"},"Mac:")),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"http://brew.sh/"}),"homebrew")," is recommended for installing ",Object(r.mdx)("inlineCode",{parentName:"p"},"nvm")," but other installation approaches are on ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/creationix/nvm#installation-and-update"}),"nvm Github page"),"."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ brew update && brew install nvm\n")),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("strong",{parentName:"p"},"Linux:")),Object(r.mdx)("p",{parentName:"li"},"To get the latest version of NVM visit the official page. ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/nvm-sh/nvm"}),"NVM")),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash\n")),Object(r.mdx)("p",{parentName:"li"},"Follow the post-install instructions in the success message.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Install ",Object(r.mdx)("inlineCode",{parentName:"p"},"node 10.15.3")," (this also installs ",Object(r.mdx)("inlineCode",{parentName:"p"},"npm"),"):"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ nvm install 10.15.3\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Configure ",Object(r.mdx)("inlineCode",{parentName:"p"},"nvm")," to use ",Object(r.mdx)("inlineCode",{parentName:"p"},"node 10.15.3")," by default:"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ nvm alias default 10.15.3\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Install ",Object(r.mdx)("inlineCode",{parentName:"p"},"yarn 1.12.3")," globally:"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ npm i -g yarn@1.12.3\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Verify correct versions of ",Object(r.mdx)("inlineCode",{parentName:"p"},"node")," and ",Object(r.mdx)("inlineCode",{parentName:"p"},"yarn")," are installed:"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ node --version # 10.15.3\n$ yarn --version # 1.12.3\n")))),Object(r.mdx)("h2",{id:"get-the-source-code"},"Get the source code"),Object(r.mdx)("ol",{start:6},Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Clone VA.gov git repos ",Object(r.mdx)("strong",{parentName:"p"},"as sibling directories"),":"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ git clone git@github.com:department-of-veterans-affairs/vets-website.git\n$ git clone git@github.com:department-of-veterans-affairs/vagov-content.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-json-schema.git\n$ git clone git@github.com:department-of-veterans-affairs/veteran-facing-services-tools.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api.git\n$ git clone git@github.com:department-of-veterans-affairs/vets-api-mockdata.git\n")),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("strong",{parentName:"p"},"Front end repos")),Object(r.mdx)("ul",{parentName:"li"},Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"vets-website"),": Core front end platform and application code"),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"vagov-content"),": Markdown content used to generate static pages"),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"veteran-facing-services-tools"),": Shared front end components (including non VA.gov users) and front end documentation site")),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("strong",{parentName:"p"},"Back end repos")),Object(r.mdx)("ul",{parentName:"li"},Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"vets-api"),": Core Rails API server application code"),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"vets-api-mockdata"),": Mock data used when running locally and on dev for the backend")),Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("strong",{parentName:"p"},"Shared repos")),Object(r.mdx)("ul",{parentName:"li"},Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("inlineCode",{parentName:"li"},"vets-json-schema"),": Shared JSON Schema definitions used by form applications and the APIs that they consume")))),Object(r.mdx)("h2",{id:"start-up-the-front-end"},"Start up the front end"),Object(r.mdx)("ol",{start:7},Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Navigate to the ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-website")," repository, then install ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-website")," dependencies. See these ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets-website/blob/master/README.md"}),"common commands")," for more information."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ cd vets-website\n$ yarn install\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Build ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-website"),". Make sure you ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/engineering/internal-tools.md#configure-the-socks-proxy"}),"configured the SOCKS proxy")," to fetch content from Drupal."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn build\n")),Object(r.mdx)("p",{parentName:"li"},"If you do not have access to the SOCKS proxy, you can alternately fetch the latest cached version of the content."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn fetch-drupal-cache\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Start the local development server."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{className:"language-bash"}),"$ yarn watch\n")),Object(r.mdx)("p",{parentName:"li"},"The build is complete when the CLI says ",Object(r.mdx)("inlineCode",{parentName:"p"},"Compiled successfully"),".")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Open ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"http://localhost:3001"}),"http://localhost:3001")," in a browser"))),Object(r.mdx)("h2",{id:"backend-and-internal-tools-set-up"},"Backend and internal tools set up"),Object(r.mdx)("p",null,"Setting up the backend and internal tools allows local test account login and static content rendering."),Object(r.mdx)("ul",null,Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets-api"}),Object(r.mdx)("strong",{parentName:"a"},"Backend (",Object(r.mdx)("inlineCode",{parentName:"strong"},"vets-api"),") set up")," instructions")),Object(r.mdx)("p",{parentName:"li"},"The local ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-website")," is configured to point to the ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-api")," backend at ",Object(r.mdx)("inlineCode",{parentName:"p"},"http://localhost:3000"),". Any website functionality that depends on the backend (i.e. login, save-in-progress, form submission, feature toggles) will require a locally running instance of ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-api"),".")),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"https://github.com/department-of-veterans-affairs/vets.gov-team/blob/master/Administrative/Accessing-Staging.md"}),Object(r.mdx)("strong",{parentName:"a"},"Local test account login")," instructions"))),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"internal-tools"}),"Internal tools setup instructions")),Object(r.mdx)("p",{parentName:"li"},"This proxy setup is required to access static content locally and to access to our reporting and monitoring tools. Running the ",Object(r.mdx)("inlineCode",{parentName:"p"},"yarn watch")," task with the SOCKS proxy active will automatically pull and cache the static content for ",Object(r.mdx)("inlineCode",{parentName:"p"},"vets-website"),"."))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-getting-started-index-mdx-d0d39bef334585cf110b.js.map