(window.webpackJsonp=window.webpackJsonp||[]).push([[31,51],{"3dLD":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n("q1tI"),r=n.n(a),o=n("8FPV"),i=n("Wbzz");function c(){return r.a.createElement(i.StaticQuery,{query:"4277382034",render:function(e){return r.a.createElement(l,{items:e.components.edges.map((function(e){return{href:e.node.path,name:e.node.context.name}}))})}})}function m(e){var t=e.item;return t.href?r.a.createElement("li",{key:t.name},r.a.createElement(i.Link,{to:t.href},t.name)):r.a.createElement("li",{key:t.name},t.name," (future)")}function l(e){var t=e.items,n=e.isSublist,a=void 0!==n&&n;return t.length?r.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?r.a.createElement("li",{key:e.name},a&&r.a.createElement(m,{item:e}),!a&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(l,{isSublist:!0,items:e.items})):"componentList"===e.query?r.a.createElement("li",{key:e.name},a&&r.a.createElement(m,{item:e}),!a&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(c,null)):r.a.createElement(m,{item:e,key:e.name})}))):null}var s=n("MEl4"),u=n.n(s);function d(e){var t=e.location,n=u.a.sections.find((function(e){return t.pathname.includes(e.href)}));return n?r.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},r.a.createElement("div",{className:"site-c-sidenav"},r.a.createElement(l,{items:n.items}))):null}function p(e){var t=e.componentToMatch;return r.a.createElement(i.StaticQuery,{query:"4193446859",render:function(e){return e.components.edges.map((function(e){return t===e.node.context.name.toLowerCase()?r.a.createElement(b,{item:{name:e.node.context.name}}):""}))}})}function b(e){var t=e.item,n="https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages/formation-react/src/components/"+t.name+"/"+t.name+".mdx";return r.a.createElement(i.Link,{to:n},"Edit this page on GitHub")}function h(e){var t=e.pathname.split("/");return r.a.createElement(p,{componentToMatch:t[3]})}var g=function(e){var t=e.pathname.replace("/veteran-facing-services-tools","");return t.length>0&&"/"===t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t};function f(e){var t=e.location,n="https://github.com/department-of-veterans-affairs/veteran-facing-services-tools/blob/master/packages/documentation/src/pages"+g(t)+function(e){var t=g(e),n=u.a.sections.find((function(e){return t.includes(e.href)})),a=u.a.sections.find((function(e){return e.href===t}));if(null==a?void 0:a.indexmdx)return"/index";if((null==n?void 0:n.items)&&n.items.map((function(e){return Array.isArray(e.items)?e.items.find((function(e){return e.href===t})):null})).map((function(e){if((null==e?void 0:e.href)&&e.href===t)return!!(null==e?void 0:e.indexmdx)})).find((function(e){return e})))return"/index";return""}(t)+".mdx";return r.a.createElement(i.Link,{to:n},"Edit this page on GitHub")}function j(e){var t=e.location;return r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement("br",null),r.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",function(e){if(e.pathname.includes("components")){var t=e.pathname.replace("/veteran-facing-services-tools","");return r.a.createElement(h,{pathname:t})}return r.a.createElement(f,{location:e})}(t)))}function x(e){var t=e.children,n=e.location;return r.a.createElement(o.a,{location:n},r.a.createElement("div",{className:"vads-l-row"},r.a.createElement(d,{location:n}),r.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,r.a.createElement(j,{location:n}))))}},s4T1:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return i})),n.d(t,"default",(function(){return l}));var a=n("zLVn"),r=(n("q1tI"),n("7ljp")),o=n("3dLD"),i={},c={_frontmatter:i},m=o.a;function l(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(r.mdx)(m,Object.assign({},c,n,{components:t,mdxType:"MDXLayout"}),Object(r.mdx)("h1",{id:"debugging-tests"},"Debugging tests"),Object(r.mdx)("p",null,Object(r.mdx)("strong",{parentName:"p"},Object(r.mdx)("em",{parentName:"strong"}," Unit Tests "))),Object(r.mdx)("ul",null,Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},"You can put a console.log in your test code. When you run the test, the output will be in the command line.")),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},"Use Chrome devtools to debug unit tests"),Object(r.mdx)("ol",{parentName:"li"},Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Go to ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"chrome://inspect/"}),"chrome://inspect/"),".")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Add a ",Object(r.mdx)("inlineCode",{parentName:"p"},"debugger")," statement in your test code and if you want to run only your test add the ",Object(r.mdx)("strong",{parentName:"p"},".only")," on your test like so. Make sure to remove the ",Object(r.mdx)("strong",{parentName:"p"},".only")," once you are done."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),"  it.only('testing something', () => {\n    debugger\n\n    expect(value).to.eq(true);\n  })\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"run in the terminal"),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),"  $ BABEL_ENV=test node_modules/.bin/mocha --inspect-brk --opts src/platform/testing/unit/mocha.opts --recursive '{test,src}/**/*.unit.spec.js?(x)' src/platform/testing/unit/helper.js\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Go to your Node Chrome Developer Tools. Under ",Object(r.mdx)("inlineCode",{parentName:"p"},"Remote Target")," you should see your test running. Click on the link where your test is running to open the debugger tool.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"You will want to press the debugger play button to start the program. It will initially pause on the first line of code.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"It might take awhile for the tests to setup, just be patient and eventually it will run.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Once the test runs, your code should break at your debugger statement.")))),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},"VSCode's debugging tool for unit tests"),Object(r.mdx)("ul",{parentName:"li"},Object(r.mdx)("li",{parentName:"ul"},"Add this ",Object(r.mdx)("inlineCode",{parentName:"li"},"Mocha Tests")," configuration to your ",Object(r.mdx)("inlineCode",{parentName:"li"},".vscode/launch.json")," file",Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),'  {\n    "version": "0.2.0",\n    "configurations": [\n        {\n            "type": "node",\n            "request": "launch",\n            "name": "Mocha Tests",\n            "env": {"BABEL_ENV": "test"},\n            "runtimeExecutable": "${workspaceFolder}/node_modules/.bin/mocha",\n            "runtimeArgs": [\n                "--inspect",\n                "--opts",\n                "${workspaceFolder}/src/platform/testing/unit/mocha.opts",\n                "--recursive",\n                "${workspaceFolder}/{test,src}/**/*.unit.spec.js?(x)",\n                "${workspaceFolder}/src/platform/testing/unit/helper.js"\n            ],\n            "port": 9229\n        }\n    ]\n  }\n'))),Object(r.mdx)("li",{parentName:"ul"},"Now you can add breakpoints or debugger statements to debug your code through the VSCode debugger tools.")))),Object(r.mdx)("p",null,"*** End to End tests"),Object(r.mdx)("ul",null,Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},"It's possible to set an infinite pause (",Object(r.mdx)("inlineCode",{parentName:"p"},".pause()"),") in the test code and then see what's happening at a given point in the browser where the test is running."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),"  client\n    .openUrl('http://localhost:3000')\n    .waitForElementVisible('body', Timeouts.normal)\n    .pause()\n    .click('.submit_button')\n"))),Object(r.mdx)("li",{parentName:"ul"},Object(r.mdx)("p",{parentName:"li"},"Using Node Chrome DevTools. You can add a (",Object(r.mdx)("inlineCode",{parentName:"p"},".perform"),") method and either console.log or add a debugger statement to debug your code in the callback function."),Object(r.mdx)("ol",{parentName:"li"},Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"add a perform method in your code."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),"client\n  .openUrl('http://localhost:3000')\n  .waitForElementVisible('body', Timeouts.normal)\n  .perform(() => {\n    console.log(testData);\n\n    debugger\n  })\n  .click('.submit_button')\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"open up ",Object(r.mdx)("a",Object.assign({parentName:"p"},{href:"chrome://inspect"}),"chrome://inspect")," in your browser.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"In your terminal run. You can pass in a specific file path to test after the ",Object(r.mdx)("inlineCode",{parentName:"p"},"nightwatch.js")," or leave it blank to run all tests."),Object(r.mdx)("pre",{parentName:"li"},Object(r.mdx)("code",Object.assign({parentName:"pre"},{}),"$ BABEL_ENV=test WEB_PORT=3001 node --inspect-brk node_modules/nightwatch/bin/runner.js -c config/nightwatch.js [optional file to test]\n"))),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"Go to your Node Chrome Developer Tools. Under ",Object(r.mdx)("inlineCode",{parentName:"p"},"Remote Target")," you should see your test running. Click on the link where your test is running to open the debugger tool.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"You will want to press the debugger play button to start the program. It will initially pause on the first line of code.")),Object(r.mdx)("li",{parentName:"ol"},Object(r.mdx)("p",{parentName:"li"},"after the program starts it should pause at your debugger statement or you should see your console.logs in the console."))))))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-getting-started-common-tasks-debugging-tests-mdx-499bc919a86b5822b924.js.map