(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"3dLD":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a("q1tI"),r=a.n(n),i=a("Wbzz");function o(e){var t=e.item;return t.href?r.a.createElement("li",{key:t.name},r.a.createElement(i.Link,{to:t.href},t.name)):r.a.createElement("li",{key:t.name},t.name," (future)")}function s(e){var t=e.items,a=e.isSublist,n=void 0!==a&&a;return t.length?r.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?r.a.createElement("li",{key:e.name},n&&r.a.createElement(o,{item:e}),!n&&r.a.createElement("h2",{className:"heading-level-4"},e.name),r.a.createElement(s,{isSublist:!0,items:e.items})):r.a.createElement(o,{item:e,key:e.name})}))):null}var l=a("MEl4"),c=a.n(l);function p(e){var t=e.location,a=c.a.sections.find((function(e){return t.pathname.includes(e.href)}));return a?r.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},r.a.createElement("div",{className:"site-c-sidenav"},r.a.createElement(s,{items:a.items}))):null}function d(e){var t=e.sourceUrl;return t?r.a.createElement("div",null,r.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",r.a.createElement("a",{href:t},"Edit this page on GitHub")):null}var m=a("8FPV");function b(e){var t=e.children,a=e.location,n=e.pageContext;return r.a.createElement(m.a,{location:a},r.a.createElement("div",{className:"vads-l-row"},r.a.createElement(p,{location:a}),r.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,r.a.createElement(d,{sourceUrl:n.sourceUrl}))))}},"80Wp":function(e,t,a){"use strict";a.r(t),a.d(t,"_frontmatter",(function(){return o})),a.d(t,"default",(function(){return c}));var n=a("zLVn"),r=(a("q1tI"),a("7ljp")),i=a("3dLD"),o={},s={_frontmatter:o},l=i.a;function c(e){var t=e.components,a=Object(n.a)(e,["components"]);return Object(r.b)(l,Object.assign({},s,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h1",{id:"form-wizard"},"Form wizard"),Object(r.b)("h2",{id:"product-details"},"Product details"),Object(r.b)("p",null,"The design system ",Object(r.b)("a",{parentName:"p",href:"https://design.va.gov/patterns/wizards"},"wizard pattern documentation")," provides a general overview of how the wizard should look and work."),Object(r.b)("p",null,"More details can be found in these documents:"),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},"Product: ",Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/tree/master/products/public-websites/how-to-apply-wizards"},"https://github.com/department-of-veterans-affairs/va.gov-team/tree/master/products/public-websites/how-to-apply-wizards")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/information-architecture/ia-reviews/websites-apply-wizard.md"},"IA documentation")," for implementation teams; also includes some UX documenation"),Object(r.b)("li",{parentName:"ul"},"Additional UX guidance captured in ",Object(r.b)("a",{parentName:"li",href:"https://preview.uxpin.com/ca08f3dbf63475b2b62f3e8c00050ad1b19c4cb5#/pages/132986657/documentation/no-panels?mode=i"},"UXPin documentation")," (using Edu flow as an example)"),Object(r.b)("li",{parentName:"ul"},"Content outlines of wizard user flows",Object(r.b)("ul",{parentName:"li"},Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/products/public-websites/how-to-apply-wizards/content-outlines/education-forms-wizard.md"},"Education wizard content outline")))),Object(r.b)("li",{parentName:"ul"},Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/files/5548107/Wizard.Migration.Usability.Study.Synthesis.pdf"},"Usability Study Synthesis")),Object(r.b)("li",{parentName:"ul"},"Analytics: ",Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/analytics/google-analytics/tracking-how-to-wizards.md"},"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/analytics/google-analytics/tracking-how-to-wizards.md"))),Object(r.b)("h2",{id:"file-structure"},"File structure"),Object(r.b)("p",null,"There isn't a provided template for the wizard, but you can copy the ",Object(r.b)("inlineCode",{parentName:"p"},"wizard"),"\nfolder from any of the forms that include one. Given that, this will only be a\nbrief review of how to setup the wizard"),Object(r.b)("p",null,"A ",Object(r.b)("inlineCode",{parentName:"p"},"wizard")," folder is usually added under the form root folder."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre"},"form\n|_ ...\n|_ components\n|  |_ createApplicationStatus.jsx\n|_ wizard\n   |_ WizardContainer.jsx\n   |_ WizardLink.jsx\n   |_ pages\n      |_ index.js (returns an array of all pages)\n      |_ start.jsx (or whatever you name the first page)\n      |_ ... (other pages; usually named after wizard nodes)\n")),Object(r.b)("p",null,"Within this folder are a ",Object(r.b)("inlineCode",{parentName:"p"},"WizardContainer")," which renders the content surrounding\nthe actual ",Object(r.b)("inlineCode",{parentName:"p"},"Wizard")," component. A ",Object(r.b)("inlineCode",{parentName:"p"},"WizardLink")," may be found if the info page needs\nto render a link to the start of your form conditionally (behind a feature flag)."),Object(r.b)("p",null,"Within the ",Object(r.b)("inlineCode",{parentName:"p"},"pages")," folder, are pages that represent each wizard node. The\n",Object(r.b)("inlineCode",{parentName:"p"},"index.js")," imports all the pages and exports an array with the first entry being\nthe wizard start page. Each page file ",Object(r.b)("em",{parentName:"p"},"must")," export the following object which\ncontains the page name and component."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"export default {\n  name: 'component-name',\n  component: Component,\n};\n")),Object(r.b)("p",null,"Each page will likely contain analytics events. More details can be found in the\n",Object(r.b)("a",{parentName:"p",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/analytics/google-analytics/tracking-how-to-wizards.md"},"wizard analytics spec"),"."),Object(r.b)("h2",{id:"setup"},"Setup"),Object(r.b)("p",null,"Set up the files as described in the previous section."),Object(r.b)("p",null,"There is a difference if you decide to render the wizard on either the\nIntroduction page, or in the ",Object(r.b)("inlineCode",{parentName:"p"},"FormApp")," wrapper."),Object(r.b)("h3",{id:"render-wizard-in-the-intro-page"},"Render wizard in the Intro page"),Object(r.b)("p",null,"In the ",Object(r.b)("inlineCode",{parentName:"p"},"formConfig")," (",Object(r.b)("inlineCode",{parentName:"p"},"config/form.js"),"), ensure a ",Object(r.b)("inlineCode",{parentName:"p"},"wizardStorageKey")," is included.\nIt should be unique (recomended), and match the ",Object(r.b)("inlineCode",{parentName:"p"},"sessionStorage")," key used by\nwhatever method is used to show or hide the wizard on the intro page."),Object(r.b)("p",null,"In the ",Object(r.b)("inlineCode",{parentName:"p"},"formConfig")," set up a ",Object(r.b)("inlineCode",{parentName:"p"},"restartFormCallback")," option inside the\n",Object(r.b)("inlineCode",{parentName:"p"},"saveInProgress")," settings. Set it as a function that returns a URL destination.\nMost likely it will return ",Object(r.b)("inlineCode",{parentName:"p"},"'/'"),", which targets the introduction page."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const formConfig = {\n  // ...\n  wizardStorageKey: 'wizardStatus',\n  saveInProgress: {\n    // return restart destination url; only needed if wizard rendered by Intro\n    restartFormCallback: () => '/', // introduction page\n  },\n  // ...\n};\n")),Object(r.b)("h3",{id:"render-wizard-in-the-app-file"},"Render wizard in the App file"),Object(r.b)("p",null,"If the wizard is rendered by the main ",Object(r.b)("inlineCode",{parentName:"p"},"FormApp.jsx")," wrapper, then you'll need to\ncheck if the form has restarted (using ",Object(r.b)("inlineCode",{parentName:"p"},"restartShouldRedirect")," helper function),\nthen push the restart destination URL to the router"),Object(r.b)("p",null,Object(r.b)("inlineCode",{parentName:"p"},"App.jsx")," (example code)"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"import WizardContainer from './containers/WizardContainer';\nimport { WIZARD_STATUS } from './constants'; // should be unique to the form\nimport {\n  WIZARD_STATUS_NOT_STARTED,\n  WIZARD_STATUS_COMPLETE,\n  WIZARD_STATUS_RESTARTED,\n  restartShouldRedirect,\n} from 'platform/site-wide/wizard';\n\nexport const FormEntry = ({\n  const [wizardState, setWizardState] = useState(\n    sessionStorage.getItem(WIZARD_STATUS) || WIZARD_STATUS_NOT_STARTED\n  );\n\n  const hasRestarted = () => {\n    setWizardStatus(WIZARD_STATUS_RESTARTED);\n    sessionStorage.setItem(WIZARD_STATUS, value);\n    router.push('/');\n  };\n\n  // ...\n  useEffect(() => {\n    if (restartShouldRedirect(WIZARD_STATUS)) {\n      hasRestarted();\n    }\n    // ...\n  });\n\n  if (wizardState !== WIZARD_STATUS_COMPLETE) {\n    return <WizardContainer />;\n  }\n  // ...\n});\n")),Object(r.b)("p",null,"The ",Object(r.b)("inlineCode",{parentName:"p"},"formConfig")," will also require the wizard status setting so that the form\nrestart link properly adjusts the session storage value."),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},"const formConfig = {\n  // ...\n  wizardStorageKey: 'wizardStatus',\n  // ...\n};\n")),Object(r.b)("p",null,"A ",Object(r.b)("inlineCode",{parentName:"p"},"restartFormCallback")," is not set in this case because we're handling it in the\napp."),Object(r.b)("h3",{id:"application-status"},"Application status"),Object(r.b)("p",null,"A component (see ",Object(r.b)("inlineCode",{parentName:"p"},"createApplicationStatus")," in the file structure section) to\nrender the ",Object(r.b)("inlineCode",{parentName:"p"},"ApplicationStatus")," is also contained somewhere within the form\nfiles. A static page component imports and injects the application status\ncomponent into the form's info page. Within this component are two buttons which\nallow the user to either continue or restart the application."),Object(r.b)("p",null,"Too ensure the wizard is properly handled when restarting (clear the wizard\nstate) or continuing (set the wizard state to complete), we need to provide the\n",Object(r.b)("inlineCode",{parentName:"p"},"WIZARD_STATUS")," session storage key to the component"),Object(r.b)("pre",null,Object(r.b)("code",{parentName:"pre",className:"language-js"},'<ApplicationStatus\n  formIds="XX-XXXX"\n  formType="What this form does"\n  wizardStatus={WIZARD_STATUS}\n  // ...\n/>\n')),Object(r.b)("h2",{id:"tasks"},"Tasks"),Object(r.b)("ul",{className:"contains-task-list"},Object(r.b)("li",{parentName:"ul",className:"task-list-item"},Object(r.b)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Match design spec"),Object(r.b)("li",{parentName:"ul",className:"task-list-item"},Object(r.b)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Verify wizard flow per ",Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/information-architecture/ia-reviews/websites-apply-wizard.md"},"IA documenation")),Object(r.b)("li",{parentName:"ul",className:"task-list-item"},Object(r.b)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Ensure ",Object(r.b)("a",{parentName:"li",href:"https://github.com/department-of-veterans-affairs/va.gov-team/blob/master/platform/analytics/google-analytics/tracking-how-to-wizards.md"},"analytics implementation spec")," is followed"),Object(r.b)("li",{parentName:"ul",className:"task-list-item"},Object(r.b)("input",{parentName:"li",type:"checkbox",checked:!1,disabled:!0})," ","Add unit/e2e tests")))}c.isMDXComponent=!0},zLVn:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}a.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=component---src-pages-forms-wizard-mdx-ca4e37c2cf8d7aceb645.js.map