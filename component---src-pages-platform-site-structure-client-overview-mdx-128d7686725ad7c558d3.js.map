{"version":3,"sources":["webpack:///./src/components/sidebar/SidebarItems.jsx","webpack:///./src/components/sidebar/Sidebar.js","webpack:///./src/layouts/SidebarLayout.jsx","webpack:///./src/pages/platform/site-structure/client-overview.mdx"],"names":["ComponentList","query","render","data","SidebarItems","items","components","edges","map","comp","href","node","path","name","context","SidebarItem","item","key","to","isSublist","length","className","Sidebar","location","sidebarSection","sidebarData","sections","find","section","pathname","includes","SidebarLayout","children","Layout","id","layoutProps","MDXContent","props","layout","DefaultLayout","this","Object","assign","parentName","React","Component","_frontmatter"],"mappings":"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","file":"component---src-pages-platform-site-structure-client-overview-mdx-128d7686725ad7c558d3.js","sourcesContent":["import React from 'react';\nimport { Link, StaticQuery, graphql } from 'gatsby';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nfunction ComponentList() {\n  return (\n    <StaticQuery\n      query={graphql`\n        query ComponentListQuery {\n          components: allSitePage(\n            filter: { context: { source: { eq: \"component\" } } }\n          ) {\n            edges {\n              node {\n                path\n                context {\n                  source\n                  name\n                }\n              }\n            }\n          }\n        }\n      `}\n      render={data => (\n        <SidebarItems\n          items={data.components.edges.map(comp => ({\n            href: comp.node.path,\n            name: comp.node.context.name,\n          }))}\n        />\n      )}\n    />\n  );\n}\n\nfunction SidebarItem({ item }) {\n  if (item.href) {\n    return (\n      <li key={item.name}>\n        <Link to={item.href}>{item.name}</Link>\n      </li>\n    );\n  }\n  return <li key={item.name}>{item.name} (future)</li>;\n}\nexport default function SidebarItems({ items, isSublist = false }) {\n  if (!items.length) {\n    return null;\n  }\n\n  return (\n    <ul className=\"site-c-sidenav-list\">\n      {items.map(item => {\n        if (item.items) {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <SidebarItems isSublist items={item.items} />\n            </li>\n          );\n        }\n        if (item.query === 'componentList') {\n          return (\n            <li key={item.name}>\n              {isSublist && <SidebarItem item={item} />}\n              {!isSublist && <h2 className=\"heading-level-4\">{item.name}</h2>}\n              <ComponentList />\n            </li>\n          );\n        }\n        return <SidebarItem item={item} key={item.name} />;\n      })}\n    </ul>\n  );\n}\n","import React from 'react';\nimport SidebarItems from './SidebarItems';\nimport sidebarData from '../../sidebar';\n\n/**\n * Sidebar\n *\n * @param {props} props\n */\n\nexport default function Sidebar({ location }) {\n  const sidebarSection = sidebarData.sections.find(section =>\n    location.pathname.includes(section.href),\n  );\n\n  if (!sidebarSection) {\n    return null;\n  }\n\n  return (\n    <div className=\"vads-l-col--4 site-c-content__nav\">\n      <div className=\"site-c-sidenav\">\n        <SidebarItems items={sidebarSection.items} />\n      </div>\n    </div>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Layout from './Layout';\nimport Sidebar from '../components/sidebar/Sidebar';\n\n/**\n * Layout\n *\n * @class Layout\n * @extends {React.Component}\n */\nexport default function SidebarLayout({ children, location }) {\n  return (\n    <Layout location={location}>\n      <div className=\"vads-l-row\">\n        <Sidebar location={location} />\n        <div\n          id=\"main-content\"\n          className=\"vads-l-col--8 site-c-content__content docSearch-content\"\n        >\n          {children}\n        </div>\n      </div>\n    </Layout>\n  );\n}\n\nSidebarLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","import React from 'react'\nimport { MDXTag } from '@mdx-js/tag'\n\n\nimport DefaultLayout from \"/home/jenkins/workspace/ran-facing-services-tools_master/packages/documentation/src/layouts/SidebarLayout.jsx\";\nconst layoutProps = {};\nexport default class MDXContent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.layout = DefaultLayout;\n  }\n\n  render() {\n    const {\n      components,\n      ...props\n    } = this.props;\n    return <MDXTag name=\"wrapper\" Layout={this.layout} layoutProps={Object.assign({}, layoutProps, props)} components={components}>\n\n      <h1 id=\"vagov-client-overview\">VA.gov client overview</h1>\n      <MDXTag name=\"p\" components={components}>{`Welcome to the VA digital services platform front-end overview. The goal of this article is to provide a high level overview of our front end architecture to get you oriented with the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-website\"\n        }}>{`vets-website`}</MDXTag>{` repository.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`The overall architecture for VA.gov is comprised of an API backend written in Ruby on Rails (`}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://github.com/department-of-veterans-affairs/vets-api\"\n        }}>{`vets-api`}</MDXTag>{`) and a static front-end, written in HTML, CSS, and Javascript (`}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`vets-website`}</MDXTag>{`). There's no server-side rendering or processing for the front-end; the build process compiles everything into static resources which are served to users.`}</MDXTag>\n      <h2 id=\"content-build-process\">Content build process</h2>\n      <MDXTag name=\"p\" components={components}>{`The build process has two primary kinds of functionality that it processes: static content pages and Javascript applications. Most of VA.gov consists of content that lives in Markdown files and the Drupal CMS, and is converted into HTML by a Metalsmith plugin. There are shared templates and other enhancements to make this content easier to structure.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`The content build process for this is controlled by a tool called `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"http://www.metalsmith.io/\"\n        }}>{`Metalsmith`}</MDXTag>{`, which is a pluggable Node.js static site generator. In general, everything in Metalsmith is a plugin, so if you're looking for specific parts of the build process, expect to check out a plugin or two. We use Metalsmith because it's flexible and because it's Javascript based, it's easy to integrate with the rest of our tools.`}</MDXTag>\n      <h2 id=\"javascript-applications\">Javascript applications</h2>\n      <MDXTag name=\"p\" components={components}>{`Javascript applications are the other type of functionality in vets-website. These applications are written in `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://reactjs.org/\"\n        }}>{`React`}</MDXTag>{` and `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://redux.js.org/\"\n        }}>{`Redux`}</MDXTag>{`, and live in `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`src/applications/`}</MDXTag>{` in `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`vets-website`}</MDXTag>{`. For each app, you'll find a `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`manifest.json`}</MDXTag>{` file that contains application information as well as an entry in the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`src/applications/registry.json`}</MDXTag>{`.  The `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`manifest.json`}</MDXTag>{` is used by Webpack in the application build, while the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`registry.json`}</MDXTag>{` is used by the content build. See `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"/veteran-facing-services-tools/getting-started/common-tasks/new-application/#manual-set-up\"\n        }}>{`Creating a new application`}</MDXTag>{` for more information on the difference between the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`manifest.json`}</MDXTag>{` files and the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`registry.json`}</MDXTag>{` file.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`You'll find the root url of the application, which you can use to navigate to that application on the site. These applications also usually have client-side routes, so opening that root url may allow you to click to other pages that are fully client-side.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`If you're a developer, most of your time will likely be spent working on a React application. We use React because it's widely used by front end developers and provides a good balance of performance and approachability. We also use Redux to manage application state, also because it's commonly used with React and fits most of the applications on VA.gov well. We use `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://reacttraining.com/react-router/\"\n        }}>{`React Router`}</MDXTag>{` for client-side routing and `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://webpack.js.org/\"\n        }}>{`Webpack`}</MDXTag>{` as a build tool, both of which are the `}<MDXTag name=\"em\" components={components} parentName=\"p\">{`de facto`}</MDXTag>{` standards in the Javascript world. For styles we use `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://sass-lang.com/\"\n        }}>{`Sass`}</MDXTag>{`, and for dependency management we use `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://yarnpkg.com/en/\"\n        }}>{`Yarn`}</MDXTag>{`.`}</MDXTag>\n      <h2 id=\"design-system\">Design system</h2>\n      <MDXTag name=\"p\" components={components}>{`You will also find that our visual components and site-wide styles live in an external `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://department-of-veterans-affairs.github.io/design-system/\"\n        }}>{`design system`}</MDXTag>{`. This design system is based on the `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://designsystem.digital.gov/\"\n        }}>{`US Web Design System`}</MDXTag>{`, with some additional modifications by our team. As part of that design system, we provide a set of React components covering common patterns, which is `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://www.npmjs.com/package/@department-of-veterans-affairs/formation\"\n        }}>{`published to npm`}</MDXTag>{`. You'll likely use these components to make your apps accessible and consistent with the rest of VA.gov.`}</MDXTag>\n      <h2 id=\"routing-for-react-apps\">Routing for React apps</h2>\n      <h3 id=\"production\">Production</h3>\n      <MDXTag name=\"p\" components={components}>{`The production deployment of the vet-website front end consists of static HTML, CSS, and JS assets deployed to an Amazon S3 bucket. We have an nginx server that serves those static assets and does some extra route handling for our single page React apps.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`React applications have a single entry page created by the content build and a special nginx `}<MDXTag name=\"a\" components={components} parentName=\"p\" props={{\n          \"href\": \"https://github.com/department-of-veterans-affairs/devops/blob/master/ansible/deployment/config/revproxy-vetsgov/vars/react_routes.yml\"\n        }}>{`config entry`}</MDXTag>{`. Each of the React applications listed in that config are standalone single page apps, and for each of the urls listed in that section of the config, the nginx server routes anything that starts with that url to the static page at that url, instead of trying to find a content page for a client-side route with the app. See the example below for a step by step view of that process.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`When that page is loaded and the JS bundle is downloaded and parsed, React Router sees the original route, removes the base url specified in the entry page from it, and routes to the page configured in the routes for the React app.`}</MDXTag>\n      <MDXTag name=\"p\" components={components}>{`In summary, nginx routes a variety of different urls to the same static entry page, and React Router renders the correct component based on the route configuration client side.`}</MDXTag>\n      <h4 id=\"example\">Example</h4>\n      <MDXTag name=\"p\" components={components}>{`Here's an example using the claim status application:`}</MDXTag>\n      <MDXTag name=\"ol\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`User opens `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`va.gov/track-claims/your-claims/2344/detail`}</MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Nginx serves `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`va.gov/track-claims/index.html`}</MDXTag>{`, because `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`/track-claims`}</MDXTag>{` is configured as a React application`}</MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`In the browser, the JS bundle loads and React Router sees a url of `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`/track-claims/your-claims/2344/detail`}</MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ol\">{`Since React Router has a base url of `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`/track-claims`}</MDXTag>{`, it runs its routing logic on `}<MDXTag name=\"inlineCode\" components={components} parentName=\"li\">{`/your-claims/2344/detail`}</MDXTag>{`, and renders the appropriate component for that url.`}</MDXTag>\n      </MDXTag>\n      <MDXTag name=\"p\" components={components}>{`One other thing to note is that links that use the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Link`}</MDXTag>{` component or the `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`router`}</MDXTag>{` object in the React app use the history api to change the url without reloading the page. React Router listens for these url changes and renders the right component for you. This is why you have to use `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`Link`}</MDXTag>{` and not a regular `}<MDXTag name=\"inlineCode\" components={components} parentName=\"p\">{`a`}</MDXTag>{` element, which results in a page refresh for the url you're trying to link to.`}</MDXTag>\n      <h3 id=\"development\">Development</h3>\n      <MDXTag name=\"p\" components={components}>{`Locally, we've configured the webpack dev server to do the same redirects as nginx, however they are duplicated in a couple places:`}</MDXTag>\n      <MDXTag name=\"ul\" components={components}>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/master/script/build.js\"\n          }}>{`script/build.js`}</MDXTag></MDXTag>\n        <MDXTag name=\"li\" components={components} parentName=\"ul\"><MDXTag name=\"a\" components={components} parentName=\"li\" props={{\n            \"href\": \"https://github.com/department-of-veterans-affairs/vets-website/blob/master/src/platform/testing/e2e/test-server.js\"\n          }}>{`src/platform/testing/e2e/test-server.js`}</MDXTag>{` (for e2e tests)`}</MDXTag>\n      </MDXTag>\n      <MDXTag name=\"p\" components={components}>{`You will need to update these locations as well as the nginx config when creating a new React application.`}</MDXTag>\n           </MDXTag>;\n  }\n\n}\nexport const _frontmatter = {};\n    "],"sourceRoot":""}