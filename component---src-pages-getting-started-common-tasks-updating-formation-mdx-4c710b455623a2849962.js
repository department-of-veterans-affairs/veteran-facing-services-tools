(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{"3dLD":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("q1tI"),i=n.n(a),o=n("Wbzz");function r(e){var t=e.item;return t.href?i.a.createElement("li",{key:t.name},i.a.createElement(o.Link,{to:t.href},t.name)):i.a.createElement("li",{key:t.name},t.name," (future)")}function c(e){var t=e.items,n=e.isSublist,a=void 0!==n&&n;return t.length?i.a.createElement("ul",{className:"site-c-sidenav-list"},t.map((function(e){return e.items?i.a.createElement("li",{key:e.name},a&&i.a.createElement(r,{item:e}),!a&&i.a.createElement("h2",{className:"heading-level-4"},e.name),i.a.createElement(c,{isSublist:!0,items:e.items})):i.a.createElement(r,{item:e,key:e.name})}))):null}var l=n("MEl4"),s=n.n(l);function u(e){var t=e.location,n=s.a.sections.find((function(e){return t.pathname.includes(e.href)}));return n?i.a.createElement("div",{className:"vads-l-col--4 site-c-content__nav"},i.a.createElement("div",{className:"site-c-sidenav"},i.a.createElement(c,{items:n.items}))):null}function b(e){var t=e.sourceUrl;return t?i.a.createElement("div",null,i.a.createElement("i",{class:"fa fa-edit","aria-hidden":"true"})," ",i.a.createElement("a",{href:t},"Edit this page on GitHub")):null}var m=n("8FPV");function p(e){var t=e.children,n=e.location,a=e.pageContext;return i.a.createElement(m.a,{location:n},i.a.createElement("div",{className:"vads-l-row"},i.a.createElement(u,{location:n}),i.a.createElement("div",{id:"main-content",className:"vads-l-col--8 site-c-content__content docSearch-content"},t,i.a.createElement(b,{sourceUrl:a.sourceUrl}))))}},bbya:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return r})),n.d(t,"default",(function(){return s}));var a=n("zLVn"),i=(n("q1tI"),n("7ljp")),o=n("3dLD"),r={},c={_frontmatter:r},l=o.a;function s(e){var t=e.components,n=Object(a.a)(e,["components"]);return Object(i.b)(l,Object.assign({},c,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("h2",{id:"making-updates-to-formation"},"Making updates to formation"),Object(i.b)("p",null,"You can find a detailed guide on contributing to formation at ",Object(i.b)("a",{parentName:"p",href:"https://dev-design.va.gov/documentation/contributing-to-formation"},"https://dev-design.va.gov/documentation/contributing-to-formation")),Object(i.b)("h2",{id:"publishing-module-to-npm"},"Publishing Module to NPM"),Object(i.b)("p",null,"After you've tested and previewed your changes locally it's time to publish a new version of the package to NPM."),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"Prerequisite: you must be ",Object(i.b)("a",{parentName:"p",href:"https://docs.npmjs.com/getting-started/publishing-npm-packages"},"registered"),' with NPM, be a member of the "department-of-veterans-affairs" organization, and have the appropriate organization role to publish an update to the module. Verify that you are logged in correctly by running ',Object(i.b)("inlineCode",{parentName:"p"},"npm whoami"),'. If you are unable to publish an update, confirm you are a member of the "department-of-veterans-affairs" organization by going to your Profile page on ',Object(i.b)("a",{parentName:"p",href:"https://www.npmjs.com"},"npmjs.com"),".")),Object(i.b)("h3",{id:"1-submit-your-pr"},"1. Submit your PR"),Object(i.b)("p",null,"Submit a PR that includes all of your code changes. This should include the bump in versions you need, which you can change directly in the ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," files for the modules that are changing."),Object(i.b)("p",null,"You'll need to choose what type of version update to make:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"patch")," - for bug fixes and minor changes"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"minor")," - for new features that don't break current features or require changes in consuming applications"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("inlineCode",{parentName:"li"},"major")," - for backwards breaking changes")),Object(i.b)("blockquote",null,Object(i.b)("p",{parentName:"blockquote"},"If you are unsure of what to pick, do a major version update on modules that are changing.")),Object(i.b)("h3",{id:"2-merge-your-pr-to-master"},"2. Merge your PR to master"),Object(i.b)("p",null,"Once your changes are approved, squash merge them to master. Also, if your change is a breaking change, please prefix your commit message with ",Object(i.b)("inlineCode",{parentName:"p"},"BREAKING CHANGE: "),". Also keep in mind that your commit messages will be in a changelog that people use to figure out what has changed between releases, so make sure it accurately describes your changes."),Object(i.b)("h3",{id:"3-build-and-publish"},"3. Build and publish"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Checkout the master branch"),Object(i.b)("li",{parentName:"ul"},"Run ",Object(i.b)("inlineCode",{parentName:"li"},"yarn build")),Object(i.b)("li",{parentName:"ul"},"For each module you need to publish, switch to its folder in ",Object(i.b)("inlineCode",{parentName:"li"},"packages/")," and run ",Object(i.b)("inlineCode",{parentName:"li"},"npm publish"),".")),Object(i.b)("h3",{id:"4-create-a-release"},"4. Create a release"),Object(i.b)("p",null,"You will need a github ",Object(i.b)("a",{parentName:"p",href:"https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line"},"personal access token"),".\nThis should be set as ",Object(i.b)("strong",{parentName:"p"},"GITHUB_API_KEY")," in your environment variable."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Navigate to the package folder"),Object(i.b)("li",{parentName:"ul"},"Run the release script",Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre"},"$ yarn release\n"))),Object(i.b)("li",{parentName:"ul"},"Once the script has succeeded, go to the link provided in the console"),Object(i.b)("li",{parentName:"ul"},"Edit the release and add any relevant information.")),Object(i.b)("h3",{id:"5-update-consuming-apps"},"5. Update consuming apps"),Object(i.b)("p",null,"The last step is to update the ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," files of consuming apps to use the latest version of ",Object(i.b)("inlineCode",{parentName:"p"},"@department-of-veterans-affairs/formation"),". For example, if you are working with the ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website")," project, open the ",Object(i.b)("inlineCode",{parentName:"p"},"vets-website"),"'s ",Object(i.b)("inlineCode",{parentName:"p"},"package.json")," to update the version number of the ",Object(i.b)("inlineCode",{parentName:"p"},"@department-of-veterans-affairs/formation")," entry listed in the ",Object(i.b)("inlineCode",{parentName:"p"},"dependencies")," section. The version number should match what you just published to NPM."))}s.isMDXComponent=!0},zLVn:function(e,t,n){"use strict";function a(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return a}))}}]);
//# sourceMappingURL=component---src-pages-getting-started-common-tasks-updating-formation-mdx-4c710b455623a2849962.js.map