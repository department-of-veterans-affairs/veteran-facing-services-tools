# Code Organization
## File Structure Overview

- /config
	- nightwatch
	- sass plugin
	- jest - proof of concepts- not used in CI
	- webpack
	- build set up scripts
		- manifest-loader.js - passes front matter of content-files to entry-name files
		- parse-app-settings.js - helper functions for reading settings.js - a file containing app information generated during Metalsmith build
- /docs - best practices and troubleshooting docs
- /jenkins - jenkins setup, build, deploy script for `vets-websites repo
- /script
	- /custom-eslint - project specific linting plugin
	- /hooks - -git -precommit hook
	- app-list.sh - helper bash script that outputs a list of the applications in vets-website
	- build.js - imports and runs build script in src/site/stages/build
	- csv-path-builder.js - TODO
	- heroku-postbuild.sh - TODO - content deploy to heroku
	- mocha.js - unit test runner and watch task
	- prearchive.js - imports and run prearchive in src/site/stages/prearchive TODO
	- prebuild.js - npm prebuild script that checks node version and install precommit hooks
	- preview.js - metalsmith build script for drupal preview
	- reset-environment.js - installs yarn and cleans up node_modules- used by build process
	- run-coverage.sh - runs mocha unit test coverage report
	- run-docker-nightwatch.sh - runs mock vets-api with docker
	- run-mockapi.sh - runs js mock vets-app
	- run-nightwatch.sh - test harness for running end to end tests
	- run-puppeteer-tests.sh - test harness for puppeteer tests (proof of concept)
	- run-unit-test.sh - runs unit tests
	- security-check.js - checks for security advisories in dependencies
	- update-json-schema.js - helper for updating dependency version of vets-jason-schema
	- watch.js - watch task for unit tests (proof of concept)
- /src - source files for vets-website web applications
	- /applications - application specific code thatâ€™s bundled into -entry.js files
	- /platform - shared code thatâ€™s bundled into vendor.js, injected directly into the site, or used for testing
	- /site - build specific code including templates used for translating content from drupal CMS for the metalsmith build process
- .rc and .ignore - runtime configs for CLI like linters, builders, or trancoders
- Dockerfile, Jenskinsfile, Jenkinsfile.content, docker-compose.yml- configs for setting up and running the continuous integration environment
- Procfile, app.json - TODO some heroku thing
- jason config-example.json - intellisense config for supporting babel module-resolver plugin
- package.json - js dependencies
- yarn.lock


## Application Bundling with Webpack
- most applications leverage the [CommonsChunkPlugin](https://webpack.js.org/plugins/commons-chunk-plugin/) to code split their source into
	- entries files that are application specific e.g. facilities-locator.entry.js, and
	- a vendor.js file containing common modules shared between entry points
- Webpage loads application specific files on demand. More information on this can be found in [Webpack code splitting](https://webpack.js.org/guides/code-splitting/)
-