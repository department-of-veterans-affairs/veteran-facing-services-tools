<!--- ErrorableDate.stories.mdx -->

import ErrorableDate from './ErrorableDate';
import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import { useState } from 'react';

<Meta title="Library/ErrorableDate" component={ErrorableDate} />

# ErrorableDate

---

#### Date Object

The date Object should look this:

```javascript
  date: {
    day: {
      value: '01',
      dirty: false,
    },
    month: {
      value: '04',
      dirty: false,
    },
    year: {
      value: '1976',
      dirty: false,
    },
  }
```

#### Sample Code

```javascript
import ErrorableDate from '@department-of-veterans-affairs/formation-react/ErrorableDate';

<ErrorableDate
  required={true}
  label="Please tell us a date"
  name="Errorable Date"
  requiredMessage="Please provide a response"
  invalidMessage="Please provide a valid date"
  date={date}
  onValueChange={(date) => setDate(date)}
/>;
```

#### Example of How to Add State to a Template

```javascript
import ErrorableDate from './ErrorableDate';
import { useState } from 'react';

export const Template = (args) => {
  const [date, setDate] = useState(args.date);
  return (
    <ErrorableDate
      {...args}
      date={date}
      onValueChange={(date) => setDate(date)}
    />
  );
};
```

---

### Rendered Component

export const defaultArgs = {
  required: true,
  label: 'Please tell us a date',
  name: 'Errorable Date',
  requiredMessage: 'Please provide a response',
};

export const Template = (args) => {
  const [date, setDate] = useState(args.date);
  return (
    <ErrorableDate
      {...args}
      date={date}
      onValueChange={(date) => setDate(date)}
    />
  );
};

Default State

export const defaultDate = {
  date: {
    day: {
      value: '1',
      dirty: false,
    },
    month: {
      value: '4',
      dirty: false,
    },
    year: {
      value: '1976',
      dirty: false,
    },
  },
};

<Canvas>
  <Story name="Default" args={{ ...defaultArgs, ...defaultDate }}>
    {Template.bind({})}
  </Story>
</Canvas>

Error State

export const errorDate = {
  date: {
    day: {
      value: '1',
      dirty: true,
    },
    month: {
      value: '4',
      dirty: true,
    },
    year: {
      value: '0000',
      dirty: true,
    },
  },
};

<Canvas>
  <Story name="Error" args={{ ...defaultArgs, ...errorDate }}>
    {Template.bind({})}
  </Story>
</Canvas>
